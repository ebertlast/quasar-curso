import{d as ne,f as oe,Q as Ge,a as We,b as G}from"./format.99f6ec35.js";import{C as j,c as s,h as o,g as H,ai as $t,aj as Lt,D as K,G as Nt,x as ye,r as I,w as N,af as rt,o as Ee,ak as Ft,al as Mt,E as it,a9 as Qt,a6 as Ke,ae as $e,am as st,an as ut,ao as J,U as Xe,a2 as jt,a1 as Ye,ap as De,aq as Je,ar as zt,V as ct,as as Ut,at as te,Q,k as me,l as Ze,m as R,au as et,f as P,q as tt,A as E,t as W,Y as Te,y as pe,W as Ht,av as Gt,p as ae}from"./index.ae82518f.js";import{u as Wt,a as Kt,b as Xt,c as Yt,d as dt,Q as Jt,e as Zt,f as Se,g as el}from"./use-quasar.dd43fe90.js";import{Q as tl}from"./QList.a9f36929.js";import{Q as ll}from"./QPage.ace85a2a.js";import{u as al}from"./vue-i18n.runtime.esm-bundler.3b2c9ff9.js";const nl={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Ae={xs:2,sm:4,md:8,lg:16,xl:24};var vt=j({name:"QSeparator",props:{...ne,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const a=H(),t=oe(e,a.proxy.$q),c=s(()=>e.vertical===!0?"vertical":"horizontal"),r=s(()=>` q-separator--${c.value}`),g=s(()=>e.inset!==!1?`${r.value}-${nl[e.inset]}`:""),i=s(()=>`q-separator${r.value}${g.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(t.value===!0?" q-separator--dark":"")),v=s(()=>{const u={};if(e.size!==void 0&&(u[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const m=e.spaced===!0?`${Ae.md}px`:e.spaced in Ae?`${Ae[e.spaced]}px`:e.spaced,n=e.vertical===!0?["Left","Right"]:["Top","Bottom"];u[`margin${n[0]}`]=u[`margin${n[1]}`]=m}return u});return()=>o("hr",{class:i.value,style:v.value,"aria-orientation":c.value})}}),lt=j({name:"QCardActions",props:{...$t,vertical:Boolean},setup(e,{slots:a}){const t=Lt(e),c=s(()=>`q-card__actions ${t.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>o("div",{class:c.value},K(a.default))}}),ol=j({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:a}){const t=H(),c=s(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return o("td",{class:c.value},K(a.default));const r=t.vnode.key,g=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(g===void 0)return;const{row:i}=e.props;return o("td",{class:c.value+g.__tdClass(i),style:g.__tdStyle(i)},K(a.default))}}}),rl=j({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:a,emit:t}){const c=H(),{proxy:{$q:r}}=c,g=i=>{t("click",i)};return()=>{if(e.props===void 0)return o("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:g},K(a.default));let i,v;const u=c.vnode.key;if(u){if(i=e.props.colsMap[u],i===void 0)return}else i=e.props.col;if(i.sortable===!0){const n=i.align==="right"?"unshift":"push";v=Nt(a.default,[]),v[n](o(ye,{class:i.__iconClass,name:r.iconSet.table.arrowUp}))}else v=K(a.default);const m={class:i.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:i.headerStyle,onClick:n=>{i.sortable===!0&&e.props.sort(i),g(n)}};return o("th",m,v)}}});const il=["horizontal","vertical","cell","none"];var sl=j({name:"QMarkupTable",props:{...ne,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>il.includes(e)}},setup(e,{slots:a}){const t=H(),c=oe(e,t.proxy.$q),r=s(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(c.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>o("div",{class:r.value},[o("table",{class:"q-table"},K(a.default))])}});function ft(e,a){return o("div",e,[o("table",{class:"q-table"},a)])}const ul={list:tl,table:sl},cl=["list","table","__qtable"];var dl=j({name:"QVirtualScroll",props:{...Wt,type:{type:String,default:"list",validator:e=>cl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:a,attrs:t}){let c;const r=I(null),g=s(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:i,localResetVirtualScroll:v,padVirtualScroll:u,onVirtualScrollEvt:m}=Kt({virtualScrollLength:g,getVirtualScrollTarget:S,getVirtualScrollEl:d}),n=s(()=>{if(g.value===0)return[];const p=(A,x)=>({index:i.value.from+x,item:A});return e.itemsFn===void 0?e.items.slice(i.value.from,i.value.to).map(p):e.itemsFn(i.value.from,i.value.to-i.value.from).map(p)}),y=s(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),w=s(()=>e.scrollTarget!==void 0?{}:{tabindex:0});N(g,()=>{v()}),N(()=>e.scrollTarget,()=>{C(),b()});function d(){return r.value.$el||r.value}function S(){return c}function b(){c=Qt(d(),e.scrollTarget),c.addEventListener("scroll",m,Ke.passive)}function C(){c!==void 0&&(c.removeEventListener("scroll",m,Ke.passive),c=void 0)}function T(){let p=u(e.type==="list"?"div":"tbody",n.value.map(a.default));return a.before!==void 0&&(p=a.before().concat(p)),$e(a.after,p)}return rt(()=>{v()}),Ee(()=>{b()}),Ft(()=>{b()}),Mt(()=>{C()}),it(()=>{C()}),()=>{if(a.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?ft({ref:r,class:"q-table__middle "+y.value},T()):o(ul[e.type],{...t,ref:r,class:[t.class,y.value],...w.value},T)}}});const vl={xs:2,sm:4,md:6,lg:10,xl:14};function at(e,a,t){return{transform:a===!0?`translateX(${t.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var fl=j({name:"QLinearProgress",props:{...ne,...st,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:a}){const{proxy:t}=H(),c=oe(e,t.$q),r=ut(e,vl),g=s(()=>e.indeterminate===!0||e.query===!0),i=s(()=>e.reverse!==e.query),v=s(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),u=s(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),m=s(()=>at(e.buffer!==void 0?e.buffer:1,i.value,t.$q)),n=s(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${c.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),y=s(()=>at(g.value===!0?1:e.value,i.value,t.$q)),w=s(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${g.value===!0?"in":""}determinate`),d=s(()=>({width:`${e.value*100}%`})),S=s(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const b=[o("div",{class:n.value,style:m.value}),o("div",{class:w.value,style:y.value})];return e.stripe===!0&&g.value===!1&&b.push(o("div",{class:S.value,style:d.value})),o("div",{class:u.value,style:v.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},$e(a.default,b))}}});function gl(e,a){const t=I(null),c=s(()=>e.disable===!0?null:o("span",{ref:t,class:"no-outline",tabindex:-1}));function r(g){const i=a.value;g!==void 0&&g.type.indexOf("key")===0?i!==null&&document.activeElement!==i&&i.contains(document.activeElement)===!0&&i.focus():t.value!==null&&(g===void 0||i!==null&&i.contains(g.target)===!0)&&t.value.focus()}return{refocusTargetEl:c,refocusTarget:r}}var bl={xs:30,sm:35,md:40,lg:50,xl:60};const ml={...ne,...st,...Xt,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Sl=["update:modelValue"];function hl(e,a){const{props:t,slots:c,emit:r,proxy:g}=H(),{$q:i}=g,v=oe(t,i),u=I(null),{refocusTargetEl:m,refocusTarget:n}=gl(t,u),y=ut(t,bl),w=s(()=>t.val!==void 0&&Array.isArray(t.modelValue)),d=s(()=>{const k=J(t.val);return w.value===!0?t.modelValue.findIndex(L=>J(L)===k):-1}),S=s(()=>w.value===!0?d.value>-1:J(t.modelValue)===J(t.trueValue)),b=s(()=>w.value===!0?d.value===-1:J(t.modelValue)===J(t.falseValue)),C=s(()=>S.value===!1&&b.value===!1),T=s(()=>t.disable===!0?-1:t.tabindex||0),p=s(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(v.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),A=s(()=>{const k=S.value===!0?"truthy":b.value===!0?"falsy":"indet",L=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?S.value===!0:b.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${k}${L}`}),x=s(()=>{const k={type:"checkbox"};return t.name!==void 0&&Object.assign(k,{"^checked":S.value===!0?"checked":void 0,name:t.name,value:w.value===!0?t.val:t.trueValue}),k}),B=Yt(x),z=s(()=>{const k={tabindex:T.value,role:"checkbox","aria-label":t.label,"aria-checked":C.value===!0?"mixed":S.value===!0?"true":"false"};return t.disable===!0&&(k["aria-disabled"]="true"),k});function Z(k){k!==void 0&&(Xe(k),n(k)),t.disable!==!0&&r("update:modelValue",ee(),k)}function ee(){if(w.value===!0){if(S.value===!0){const k=t.modelValue.slice();return k.splice(d.value,1),k}return t.modelValue.concat([t.val])}if(S.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(b.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function re(k){(k.keyCode===13||k.keyCode===32)&&Xe(k)}function $(k){(k.keyCode===13||k.keyCode===32)&&Z(k)}const U=a(S,C);return Object.assign(g,{toggle:Z}),()=>{const k=U();t.disable!==!0&&B(k,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const L=[o("div",{class:A.value,style:y.value},k)];m.value!==null&&L.push(m.value);const ie=t.label!==void 0?$e(c.default,[t.label]):K(c.default);return ie!==void 0&&L.push(o("div",{class:`q-${e}__label q-anchor--skip`},ie)),o("div",{ref:u,class:p.value,...z.value,onClick:Z,onKeydown:re,onKeyup:$},L)}}const yl=o("div",{key:"svg",class:"q-checkbox__bg absolute"},[o("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),o("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Ie=j({name:"QCheckbox",props:ml,emits:Sl,setup(e){function a(t,c){const r=s(()=>(t.value===!0?e.checkedIcon:c.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>r.value!==null?[o("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[o(ye,{class:"q-checkbox__icon",name:r.value})])]:[yl]}return hl("checkbox",a)}});let le=0;const _l={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Cl=["update:fullscreen","fullscreen"];function ql(){const e=H(),{props:a,emit:t,proxy:c}=e;let r,g,i;const v=I(!1);jt(e)===!0&&N(()=>c.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&n()}),N(()=>a.fullscreen,y=>{v.value!==y&&u()}),N(v,y=>{t("update:fullscreen",y),t("fullscreen",y)});function u(){v.value===!0?n():m()}function m(){v.value!==!0&&(v.value=!0,i=c.$el.parentNode,i.replaceChild(g,c.$el),document.body.appendChild(c.$el),le++,le===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:n},Ye.add(r))}function n(){v.value===!0&&(r!==void 0&&(Ye.remove(r),r=void 0),i.replaceChild(c.$el,g),v.value=!1,le=Math.max(0,le-1),le===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),c.$el.scrollIntoView!==void 0&&setTimeout(()=>{c.$el.scrollIntoView()})))}return rt(()=>{g=document.createElement("span")}),Ee(()=>{a.fullscreen===!0&&m()}),it(n),Object.assign(c,{toggleFullscreen:u,setFullscreen:m,exitFullscreen:n}),{inFullscreen:v,toggleFullscreen:u}}function wl(e,a){return new Date(e)-new Date(a)}const kl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Pl(e,a,t,c){const r=s(()=>{const{sortBy:v}=a.value;return v&&t.value.find(u=>u.name===v)||null}),g=s(()=>e.sortMethod!==void 0?e.sortMethod:(v,u,m)=>{const n=t.value.find(d=>d.name===u);if(n===void 0||n.field===void 0)return v;const y=m===!0?-1:1,w=typeof n.field=="function"?d=>n.field(d):d=>d[n.field];return v.sort((d,S)=>{let b=w(d),C=w(S);return b==null?-1*y:C==null?1*y:n.sort!==void 0?n.sort(b,C,d,S)*y:De(b)===!0&&De(C)===!0?(b-C)*y:Je(b)===!0&&Je(C)===!0?wl(b,C)*y:typeof b=="boolean"&&typeof C=="boolean"?(b-C)*y:([b,C]=[b,C].map(T=>(T+"").toLocaleString().toLowerCase()),b<C?-1*y:b===C?0:y)})});function i(v){let u=e.columnSortOrder;if(zt(v)===!0)v.sortOrder&&(u=v.sortOrder),v=v.name;else{const y=t.value.find(w=>w.name===v);y!==void 0&&y.sortOrder&&(u=y.sortOrder)}let{sortBy:m,descending:n}=a.value;m!==v?(m=v,n=u==="da"):e.binaryStateSort===!0?n=!n:n===!0?u==="ad"?m=null:n=!1:u==="ad"?n=!0:m=null,c({sortBy:m,descending:n,page:1})}return{columnToSort:r,computedSortMethod:g,sort:i}}const xl={filter:[String,Object],filterMethod:Function};function Rl(e,a){const t=s(()=>e.filterMethod!==void 0?e.filterMethod:(c,r,g,i)=>{const v=r?r.toLowerCase():"";return c.filter(u=>g.some(m=>{const n=i(m,u)+"";return(n==="undefined"||n==="null"?"":n.toLowerCase()).indexOf(v)!==-1}))});return N(()=>e.filter,()=>{ct(()=>{a({page:1},!0)})},{deep:!0}),{computedFilterMethod:t}}function Ol(e,a){for(const t in a)if(a[t]!==e[t])return!1;return!0}function nt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Vl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Bl(e,a){const{props:t,emit:c}=e,r=I(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:t.rowsPerPageOptions.length>0?t.rowsPerPageOptions[0]:5},t.pagination)),g=s(()=>{const n=t["onUpdate:pagination"]!==void 0?{...r.value,...t.pagination}:r.value;return nt(n)}),i=s(()=>g.value.rowsNumber!==void 0);function v(n){u({pagination:n,filter:t.filter})}function u(n={}){ct(()=>{c("request",{pagination:n.pagination||g.value,filter:n.filter||t.filter,getCellValue:a})})}function m(n,y){const w=nt({...g.value,...n});if(Ol(g.value,w)===!0){i.value===!0&&y===!0&&v(w);return}if(i.value===!0){v(w);return}t.pagination!==void 0&&t["onUpdate:pagination"]!==void 0?c("update:pagination",w):r.value=w}return{innerPagination:r,computedPagination:g,isServerSide:i,requestServerInteraction:u,setPagination:m}}function Tl(e,a,t,c,r,g){const{props:i,emit:v,proxy:{$q:u}}=e,m=s(()=>c.value===!0?t.value.rowsNumber||0:g.value),n=s(()=>{const{page:x,rowsPerPage:B}=t.value;return(x-1)*B}),y=s(()=>{const{page:x,rowsPerPage:B}=t.value;return x*B}),w=s(()=>t.value.page===1),d=s(()=>t.value.rowsPerPage===0?1:Math.max(1,Math.ceil(m.value/t.value.rowsPerPage))),S=s(()=>y.value===0?!0:t.value.page>=d.value),b=s(()=>(i.rowsPerPageOptions.includes(a.value.rowsPerPage)?i.rowsPerPageOptions:[a.value.rowsPerPage].concat(i.rowsPerPageOptions)).map(B=>({label:B===0?u.lang.table.allRows:""+B,value:B})));N(d,(x,B)=>{if(x===B)return;const z=t.value.page;x&&!z?r({page:1}):x<z&&r({page:x})});function C(){r({page:1})}function T(){const{page:x}=t.value;x>1&&r({page:x-1})}function p(){const{page:x,rowsPerPage:B}=t.value;y.value>0&&x*B<m.value&&r({page:x+1})}function A(){r({page:d.value})}return i["onUpdate:pagination"]!==void 0&&v("update:pagination",{...t.value}),{firstRowIndex:n,lastRowIndex:y,isFirstPage:w,isLastPage:S,pagesNumber:d,computedRowsPerPageOptions:b,computedRowsNumber:m,firstPage:C,prevPage:T,nextPage:p,lastPage:A}}const pl={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Al=["update:selected","selection"];function Il(e,a,t,c){const r=s(()=>{const S={};return e.selected.map(c.value).forEach(b=>{S[b]=!0}),S}),g=s(()=>e.selection!=="none"),i=s(()=>e.selection==="single"),v=s(()=>e.selection==="multiple"),u=s(()=>t.value.length>0&&t.value.every(S=>r.value[c.value(S)]===!0)),m=s(()=>u.value!==!0&&t.value.some(S=>r.value[c.value(S)]===!0)),n=s(()=>e.selected.length);function y(S){return r.value[S]===!0}function w(){a("update:selected",[])}function d(S,b,C,T){a("selection",{rows:b,added:C,keys:S,evt:T});const p=i.value===!0?C===!0?b:[]:C===!0?e.selected.concat(b):e.selected.filter(A=>S.includes(c.value(A))===!1);a("update:selected",p)}return{hasSelectionMode:g,singleSelection:i,multipleSelection:v,allRowsSelected:u,someRowsSelected:m,rowsSelectedNumber:n,isRowSelected:y,clearSelection:w,updateSelection:d}}function ot(e){return Array.isArray(e)?e.slice():[]}const Dl={expanded:Array},El=["update:expanded"];function $l(e,a){const t=I(ot(e.expanded));N(()=>e.expanded,i=>{t.value=ot(i)});function c(i){return t.value.includes(i)}function r(i){e.expanded!==void 0?a("update:expanded",i):t.value=i}function g(i,v){const u=t.value.slice(),m=u.indexOf(i);v===!0?m===-1&&(u.push(i),r(u)):m!==-1&&(u.splice(m,1),r(u))}return{isRowExpanded:c,setExpanded:r,updateExpanded:g}}const Ll={visibleColumns:Array};function Nl(e,a,t){const c=s(()=>{if(e.columns!==void 0)return e.columns;const v=e.rows[0];return v!==void 0?Object.keys(v).map(u=>({name:u,label:u.toUpperCase(),field:u,align:De(v[u])?"right":"left",sortable:!0})):[]}),r=s(()=>{const{sortBy:v,descending:u}=a.value;return(e.visibleColumns!==void 0?c.value.filter(n=>n.required===!0||e.visibleColumns.includes(n.name)===!0):c.value).map(n=>{const y=n.align||"right",w=`text-${y}`;return{...n,align:y,__iconClass:`q-table__sort-icon q-table__sort-icon--${y}`,__thClass:w+(n.headerClasses!==void 0?" "+n.headerClasses:"")+(n.sortable===!0?" sortable":"")+(n.name===v?` sorted ${u===!0?"sort-desc":""}`:""),__tdStyle:n.style!==void 0?typeof n.style!="function"?()=>n.style:n.style:()=>null,__tdClass:n.classes!==void 0?typeof n.classes!="function"?()=>w+" "+n.classes:d=>w+" "+n.classes(d):()=>w}})}),g=s(()=>{const v={};return r.value.forEach(u=>{v[u.name]=u}),v}),i=s(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(t.value===!0?1:0));return{colList:c,computedCols:r,computedColsMap:g,computedColspan:i}}const he="q-table__bottom row items-center",gt={};dt.forEach(e=>{gt[e]={}});var Fl=j({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...gt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...ne,..._l,...Ll,...xl,...Vl,...Dl,...pl,...kl},emits:["request","virtual-scroll",...Cl,...El,...Al],setup(e,{slots:a,emit:t}){const c=H(),{proxy:{$q:r}}=c,g=oe(e,r),{inFullscreen:i,toggleFullscreen:v}=ql(),u=s(()=>typeof e.rowKey=="function"?e.rowKey:l=>l[e.rowKey]),m=I(null),n=I(null),y=s(()=>e.grid!==!0&&e.virtualScroll===!0),w=s(()=>" q-table__card"+(g.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),d=s(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":w.value)+(g.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(i.value===!0?" fullscreen scroll":"")),S=s(()=>d.value+(e.loading===!0?" q-table--loading":""));N(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+d.value,()=>{y.value===!0&&n.value!==null&&n.value.reset()});const{innerPagination:b,computedPagination:C,isServerSide:T,requestServerInteraction:p,setPagination:A}=Bl(c,X),{computedFilterMethod:x}=Rl(e,A),{isRowExpanded:B,setExpanded:z,updateExpanded:Z}=$l(e,t),ee=s(()=>{let l=e.rows;if(T.value===!0||l.length===0)return l;const{sortBy:f,descending:h}=C.value;return e.filter&&(l=x.value(l,e.filter,F.value,X)),St.value!==null&&(l=ht.value(e.rows===l?l.slice():l,f,h)),l}),re=s(()=>ee.value.length),$=s(()=>{let l=ee.value;if(T.value===!0)return l;const{rowsPerPage:f}=C.value;return f!==0&&(ue.value===0&&e.rows!==l?l.length>ce.value&&(l=l.slice(0,ce.value)):l=l.slice(ue.value,ce.value)),l}),{hasSelectionMode:U,singleSelection:k,multipleSelection:L,allRowsSelected:ie,someRowsSelected:Le,rowsSelectedNumber:_e,isRowSelected:Ce,clearSelection:bt,updateSelection:se}=Il(e,t,$,u),{colList:mt,computedCols:F,computedColsMap:Ne,computedColspan:Fe}=Nl(e,C,U),{columnToSort:St,computedSortMethod:ht,sort:qe}=Pl(e,C,mt,A),{firstRowIndex:ue,lastRowIndex:ce,isFirstPage:we,isLastPage:ke,pagesNumber:de,computedRowsPerPageOptions:yt,computedRowsNumber:ve,firstPage:Pe,prevPage:xe,nextPage:Re,lastPage:Oe}=Tl(c,b,C,T,A,re),_t=s(()=>$.value.length===0),Ct=s(()=>{const l={};return dt.forEach(f=>{l[f]=e[f]}),l.virtualScrollItemSize===void 0&&(l.virtualScrollItemSize=e.dense===!0?28:48),l});function qt(){y.value===!0&&n.value.reset()}function wt(){if(e.grid===!0)return Dt();const l=e.hideHeader!==!0?Ue:null;if(y.value===!0){const h=a["top-row"],_=a["bottom-row"],q={default:V=>Qe(V.item,a.body,V.index)};if(h!==void 0){const V=o("tbody",h({cols:F.value}));q.before=l===null?()=>V:()=>[l()].concat(V)}else l!==null&&(q.before=l);return _!==void 0&&(q.after=()=>o("tbody",_({cols:F.value}))),o(dl,{ref:n,class:e.tableClass,style:e.tableStyle,...Ct.value,scrollTarget:e.virtualScrollTarget,items:$.value,type:"__qtable",tableColspan:Fe.value,onVirtualScroll:Pt},q)}const f=[xt()];return l!==null&&f.unshift(l()),ft({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},f)}function kt(l,f){if(n.value!==null){n.value.scrollTo(l,f);return}l=parseInt(l,10);const h=m.value.querySelector(`tbody tr:nth-of-type(${l+1})`);if(h!==null){const _=m.value.querySelector(".q-table__middle.scroll"),{offsetTop:q}=h,V=q<_.scrollTop?"decrease":"increase";_.scrollTop=q,t("virtual-scroll",{index:l,from:0,to:b.value.rowsPerPage-1,direction:V})}}function Pt(l){t("virtual-scroll",l)}function Me(){return[o(fl,{class:"q-table__linear-progress",color:e.color,dark:g.value,indeterminate:!0,trackColor:"transparent"})]}function Qe(l,f,h){const _=u.value(l),q=Ce(_);if(f!==void 0)return f(je({key:_,row:l,pageIndex:h,__trClass:q?"selected":""}));const V=a["body-cell"],O=F.value.map(D=>{const ge=a[`body-cell-${D.name}`],be=ge!==void 0?ge:V;return be!==void 0?be(Rt({key:_,row:l,pageIndex:h,col:D})):o("td",{class:D.__tdClass(l),style:D.__tdStyle(l)},X(D,l))});if(U.value===!0){const D=a["body-selection"],ge=D!==void 0?D(Ot({key:_,row:l,pageIndex:h})):[o(Ie,{modelValue:q,color:e.color,dark:g.value,dense:e.dense,"onUpdate:modelValue":(be,Et)=>{se([_],[l],be,Et)}})];O.unshift(o("td",{class:"q-table--col-auto-width"},ge))}const M={key:_,class:{selected:q}};return e.onRowClick!==void 0&&(M.class["cursor-pointer"]=!0,M.onClick=D=>{t("RowClick",D,l,h)}),e.onRowDblclick!==void 0&&(M.class["cursor-pointer"]=!0,M.onDblclick=D=>{t("RowDblclick",D,l,h)}),e.onRowContextmenu!==void 0&&(M.class["cursor-pointer"]=!0,M.onContextmenu=D=>{t("RowContextmenu",D,l,h)}),o("tr",M,O)}function xt(){const l=a.body,f=a["top-row"],h=a["bottom-row"];let _=$.value.map((q,V)=>Qe(q,l,V));return f!==void 0&&(_=f({cols:F.value}).concat(_)),h!==void 0&&(_=_.concat(h({cols:F.value}))),o("tbody",_)}function je(l){return Ve(l),l.cols=l.cols.map(f=>{const h={...f};return te(h,"value",()=>X(f,l.row)),h}),l}function Rt(l){return Ve(l),te(l,"value",()=>X(l.col,l.row)),l}function Ot(l){return Ve(l),l}function Ve(l){Object.assign(l,{cols:F.value,colsMap:Ne.value,sort:qe,rowIndex:ue.value+l.pageIndex,color:e.color,dark:g.value,dense:e.dense}),U.value===!0&&te(l,"selected",()=>Ce(l.key),(f,h)=>{se([l.key],[l.row],f,h)}),te(l,"expand",()=>B(l.key),f=>{Z(l.key,f)})}function X(l,f){const h=typeof l.field=="function"?l.field(f):f[l.field];return l.format!==void 0?l.format(h,f):h}const Y=s(()=>({pagination:C.value,pagesNumber:de.value,isFirstPage:we.value,isLastPage:ke.value,firstPage:Pe,prevPage:xe,nextPage:Re,lastPage:Oe,inFullscreen:i.value,toggleFullscreen:v}));function Vt(){const l=a.top,f=a["top-left"],h=a["top-right"],_=a["top-selection"],q=U.value===!0&&_!==void 0&&_e.value>0,V="q-table__top relative-position row items-center";if(l!==void 0)return o("div",{class:V},[l(Y.value)]);let O;if(q===!0?O=_(Y.value).slice():(O=[],f!==void 0?O.push(o("div",{class:"q-table-control"},[f(Y.value)])):e.title&&O.push(o("div",{class:"q-table__control"},[o("div",{class:["q-table__title",e.titleClass]},e.title)]))),h!==void 0&&(O.push(o("div",{class:"q-table__separator col"})),O.push(o("div",{class:"q-table__control"},[h(Y.value)]))),O.length!==0)return o("div",{class:V},O)}const ze=s(()=>Le.value===!0?null:ie.value);function Ue(){const l=Bt();return e.loading===!0&&a.loading===void 0&&l.push(o("tr",{class:"q-table__progress"},[o("th",{class:"relative-position",colspan:Fe.value},Me())])),o("thead",l)}function Bt(){const l=a.header,f=a["header-cell"];if(l!==void 0)return l(Be({header:!0})).slice();const h=F.value.map(_=>{const q=a[`header-cell-${_.name}`],V=q!==void 0?q:f,O=Be({col:_});return V!==void 0?V(O):o(rl,{key:_.name,props:O},()=>_.label)});if(k.value===!0&&e.grid!==!0)h.unshift(o("th",{class:"q-table--col-auto-width"}," "));else if(L.value===!0){const _=a["header-selection"],q=_!==void 0?_(Be({})):[o(Ie,{color:e.color,modelValue:ze.value,dark:g.value,dense:e.dense,"onUpdate:modelValue":He})];h.unshift(o("th",{class:"q-table--col-auto-width"},q))}return[o("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},h)]}function Be(l){return Object.assign(l,{cols:F.value,sort:qe,colsMap:Ne.value,color:e.color,dark:g.value,dense:e.dense}),L.value===!0&&te(l,"selected",()=>ze.value,He),l}function He(l){Le.value===!0&&(l=!1),se($.value.map(u.value),$.value,l)}const fe=s(()=>{const l=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?l.reverse():l});function Tt(){if(e.hideBottom===!0)return;if(_t.value===!0){if(e.hideNoData===!0)return;const h=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,_=a["no-data"],q=_!==void 0?[_({message:h,icon:r.iconSet.table.warning,filter:e.filter})]:[o(ye,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),h];return o("div",{class:he+" q-table__bottom--nodata"},q)}const l=a.bottom;if(l!==void 0)return o("div",{class:he},[l(Y.value)]);const f=e.hideSelectedBanner!==!0&&U.value===!0&&_e.value>0?[o("div",{class:"q-table__control"},[o("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(_e.value)])])]:[];if(e.hidePagination!==!0)return o("div",{class:he+" justify-end"},At(f));if(f.length>0)return o("div",{class:he},f)}function pt(l){A({page:1,rowsPerPage:l.value})}function At(l){let f;const{rowsPerPage:h}=C.value,_=e.paginationLabel||r.lang.table.pagination,q=a.pagination,V=e.rowsPerPageOptions.length>1;if(l.push(o("div",{class:"q-table__separator col"})),V===!0&&l.push(o("div",{class:"q-table__control"},[o("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),o(Jt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:h,options:yt.value,displayValue:h===0?r.lang.table.allRows:h,dark:g.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":pt})])),q!==void 0)f=q(Y.value);else if(f=[o("span",h!==0?{class:"q-table__bottom-item"}:{},[h?_(ue.value+1,Math.min(ce.value,ve.value),ve.value):_(1,re.value,ve.value)])],h!==0&&de.value>1){const O={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(O.size="sm"),de.value>2&&f.push(o(Q,{key:"pgFirst",...O,icon:fe.value[0],disable:we.value,onClick:Pe})),f.push(o(Q,{key:"pgPrev",...O,icon:fe.value[1],disable:we.value,onClick:xe}),o(Q,{key:"pgNext",...O,icon:fe.value[2],disable:ke.value,onClick:Re})),de.value>2&&f.push(o(Q,{key:"pgLast",...O,icon:fe.value[3],disable:ke.value,onClick:Oe}))}return l.push(o("div",{class:"q-table__control"},f)),l}function It(){const l=e.gridHeader===!0?[o("table",{class:"q-table"},[Ue()])]:e.loading===!0&&a.loading===void 0?Me():void 0;return o("div",{class:"q-table__middle"},l)}function Dt(){const l=a.item!==void 0?a.item:f=>{const h=f.cols.map(q=>o("div",{class:"q-table__grid-item-row"},[o("div",{class:"q-table__grid-item-title"},[q.label]),o("div",{class:"q-table__grid-item-value"},[q.value])]));if(U.value===!0){const q=a["body-selection"],V=q!==void 0?q(f):[o(Ie,{modelValue:f.selected,color:e.color,dark:g.value,dense:e.dense,"onUpdate:modelValue":(O,M)=>{se([f.key],[f.row],O,M)}})];h.unshift(o("div",{class:"q-table__grid-item-row"},V),o(vt,{dark:g.value}))}const _={class:["q-table__grid-item-card"+w.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(_.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(_.onClick=q=>{t("RowClick",q,f.row,f.pageIndex)}),e.onRowDblclick!==void 0&&(_.onDblclick=q=>{t("RowDblclick",q,f.row,f.pageIndex)})),o("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(f.selected===!0?" q-table__grid-item--selected":"")},[o("div",_,h)])};return o("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},$.value.map((f,h)=>l(je({key:u.value(f),row:f,pageIndex:h}))))}return Object.assign(c.proxy,{requestServerInteraction:p,setPagination:A,firstPage:Pe,prevPage:xe,nextPage:Re,lastPage:Oe,isRowSelected:Ce,clearSelection:bt,isRowExpanded:B,setExpanded:z,sort:qe,resetVirtualScroll:qt,scrollTo:kt,getCellValue:X}),Ut(c.proxy,{filteredSortedRows:()=>ee.value,computedRows:()=>$.value,computedRowsNumber:()=>ve.value}),()=>{const l=[Vt()],f={ref:m,class:S.value};return e.grid===!0?l.push(It()):Object.assign(f,{class:[f.class,e.cardClass],style:e.cardStyle}),l.push(wt(),Tt()),e.loading===!0&&a.loading!==void 0&&l.push(a.loading()),o("div",f,l)}}});const Ml={key:0,class:"q-pa-md"},Ql=ae("div",{class:"text-h5"},"Detalle de la Variable",-1),jl=E(" Cancelar "),zl=E(" Editar "),Ul=E(" Borrar "),Hl={key:0},Gl={class:"col-12"},Wl=E("Variable"),Kl={class:"col-6"},Xl={class:"col-6"},Yl={class:"col-12"},Jl=E(" Guardar "),oa={__name:"UsvgsPage",setup(e){const{t:a}=al(),t=I(null),c=Zt(),r=I([{name:"IDVARIABLE",align:"right",label:"Identificador",field:"IDVARIABLE",sortable:!0},{name:"DESCRIPCION",required:!0,label:"Denominaci\xF3n",align:"left",field:d=>d.DESCRIPCION,format:d=>`${d}`,sortable:!0},{name:"DATO",required:!0,label:"Valor",align:"left",field:d=>d.DATO,format:d=>`${d}`,sortable:!0},{name:"OBSERVACION",required:!0,label:"Observaci\xF3n",align:"left",field:d=>d.OBSERVACION,format:d=>`${d?(d==null?void 0:d.length)>20?d.substring(0,20)+"...":d:""}`,sortable:!0},{name:"ESTADO",required:!0,label:"Estado",align:"left",field:d=>d.ESTADO,format:d=>`${d?(d==null?void 0:d.length)>20?d.substring(0,20)+"...":d:""}`,sortable:!1}]),g=I([]),i=I(""),v=I(!1),u=I({sortBy:"IDVARIABLE",descending:!1,page:1,rowsPerPage:7,rowsNumber:0}),m=I(""),n=d=>{const{page:S,rowsPerPage:b,sortBy:C,descending:T}=d.pagination,p=d.filter;v.value=!0;const A={Tabla:"USVGS",NumPagina:S,TamPagina:b,OrdenarPor:C+(T?" DESC":""),StringABuscar:p,ColumnasFiltro:"IDVARIABLE, DESCRIPCION, DATO",ColumnasVisibles:"IDVARIABLE, DESCRIPCION, DATO, OBSERVACION, IIF(COALESCE(DATO, '') = '', 'Sin Configurar', 'Configurado') AS ESTADO"};et.post("read",A).then(x=>{const B=x.data.result.output.TotalRegistros,z=x.data.result.recordset;u.value.rowsNumber=B,g.value.splice(0,g.value.length,...z),u.value.page=S,u.value.rowsPerPage=b,u.value.sortBy=C,u.value.descending=T}).catch(x=>{console.error(x)}).finally(()=>{v.value=!1})},y=d=>{t.value=d,m.value="detalle"},w=()=>{c.loading.show({message:"Guardando la variable de sistema..."}),et.post("json",{MODELO:"USVGS_CURSO",METODO:"UPDATE",PARAMETROS:{IDVARIABLE:t.value.IDVARIABLE,DATO:t.value.DATO,OBSERVACION:t.value.OBSERVACION}}).then(d=>{console.log(d),c.notify({color:"positive",textColor:"white",icon:"check",message:a("form.saved"),progress:!0,actions:[{icon:"close",color:"white"}]}),m.value="detalle"}).catch(d=>{console.error(d)}).finally(()=>{c.loading.hide()})};return Ee(()=>{n({pagination:u.value,filter:i.value})}),N(()=>t.value,d=>{d||(m.value="")}),(d,S)=>(me(),Ze(ll,null,{default:R(()=>[P(pe,{appear:"","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutRight"},{default:R(()=>[m.value==="detalle"?(me(),tt("div",Ml,[Ql,P(Ge,null,{default:R(()=>[P(We,null,{default:R(()=>[P(G,null,{default:R(()=>[E(W(t.value.IDVARIABLE),1)]),_:1}),P(G,{caption:"",lines:"2"},{default:R(()=>[E(W(t.value.DESCRIPCION),1)]),_:1}),P(G,null,{default:R(()=>[E("Valor de la Variable: "+W(t.value.DATO),1)]),_:1}),t.value.OBSERVACION?(me(),Ze(G,{key:0},{default:R(()=>[E("Observaci\xF3n: "+W(t.value.OBSERVACION),1)]),_:1})):Te("",!0),P(G,null,{default:R(()=>[E("Estado: "+W(t.value.ESTADO),1)]),_:1})]),_:1})]),_:1}),P(vt),P(lt,null,{default:R(()=>[P(Q,{flat:"",icon:"undo",onClick:S[0]||(S[0]=b=>t.value=null)},{default:R(()=>[jl]),_:1}),P(Q,{flat:"",color:"primary",onClick:S[1]||(S[1]=b=>m.value="formulario")},{default:R(()=>[zl]),_:1}),P(Q,{flat:"",color:"negative"},{default:R(()=>[Ul]),_:1})]),_:1})])):Te("",!0)]),_:1}),P(pe,{appear:"","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutRight"},{default:R(()=>[Ht(P(Fl,{title:"Variables generales del sistema",rows:g.value,columns:r.value,"row-key":"IDVARIABLE",pagination:u.value,"onUpdate:pagination":S[3]||(S[3]=b=>u.value=b),loading:v.value,filter:i.value,onRequest:n,"binary-state-sort":"","rows-per-page-options":[3,5,7,10,15,20,25,50,100],class:"q-pa-none q-ma-none",flat:""},{"top-right":R(()=>[P(Se,{borderless:"",dense:"",debounce:"300",modelValue:i.value,"onUpdate:modelValue":S[2]||(S[2]=b=>i.value=b),placeholder:"Buscar",clearable:""},{append:R(()=>[P(ye,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell":R(b=>[P(ol,{props:b,class:"cursor-pointer",onClick:C=>y(b.row)},{default:R(()=>[E(W(b.value),1)]),_:2},1032,["props","onClick"])]),_:1},8,["rows","columns","pagination","loading","filter"]),[[Gt,m.value===""]])]),_:1}),P(pe,{appear:"","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutRight"},{default:R(()=>[m.value==="formulario"?(me(),tt("div",Hl,[P(el,{onSubmit:w,class:"row q-col-gutter-xs q-pa-md"},{default:R(()=>[ae("div",Gl,[P(Ge,null,{default:R(()=>[P(We,null,{default:R(()=>[P(G,{caption:""},{default:R(()=>[Wl]),_:1}),P(G,null,{default:R(()=>[E(W(t.value.IDVARIABLE),1)]),_:1})]),_:1})]),_:1})]),ae("div",Kl,[P(Se,{modelValue:t.value.DESCRIPCION,"onUpdate:modelValue":S[4]||(S[4]=b=>t.value.DESCRIPCION=b),type:"text",label:"Descripci\xF3n",maxlength:"100",readonly:""},null,8,["modelValue"])]),ae("div",Xl,[P(Se,{modelValue:t.value.DATO,"onUpdate:modelValue":S[5]||(S[5]=b=>t.value.DATO=b),type:"text",label:"Valor de la variable",maxlength:"120"},null,8,["modelValue"])]),ae("div",Yl,[P(Se,{modelValue:t.value.OBSERVACION,"onUpdate:modelValue":S[6]||(S[6]=b=>t.value.OBSERVACION=b),type:"text",label:"Observaci\xF3n",maxlength:"4096",autogrow:""},null,8,["modelValue"])]),P(lt,null,{default:R(()=>[P(Q,{flat:"",onClick:S[7]||(S[7]=b=>m.value="detalle"),icon:"undo",label:"Cancelar"}),P(Q,{flat:"",icon:"check",color:"primary",type:"submit"},{default:R(()=>[Jl]),_:1})]),_:1})]),_:1})])):Te("",!0)]),_:1})]),_:1}))}};export{oa as default};
