import{Q as G}from"./format.e98013f3.js";import{G as W,c as i,h as o,H as te,g as X,J as Dt,z as he,Z as ye,a0 as _e,r as T,w as M,ak as ot,o as Ne,an as Nt,ao as $t,I as rt,p as Lt,ae as Ft,ab as Ke,aj as $e,ap as ut,aq as st,ar as Y,X as We,as as Mt,at as Xe,au as De,av as Je,aw as jt,a4 as it,ax as Qt,ay as le,Q as F,az as ct,k as ee,l as me,m as O,f as R,q as Ze,x as Ye,y as Be,C as D,t as K,a8 as Ae,aA as et,A as Te,a5 as Ut,aB as Ht,n as oe,aC as tt}from"./index.b48f70d8.js";import{u as zt,a as Gt,b as Kt,c as Wt,d as dt,Q as Xt,e as ae,f as Jt,g as Zt}from"./use-quasar.c059fe33.js";import{Q as Yt}from"./QPage.7733aa18.js";import{u as el}from"./vue-i18n.runtime.esm-bundler.72047ea2.js";var tl=W({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:a}){const t=X(),d=i(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return o("td",{class:d.value},te(a.default));const s=t.vnode.key,g=(e.props.colsMap!==void 0?e.props.colsMap[s]:null)||e.props.col;if(g===void 0)return;const{row:u}=e.props;return o("td",{class:d.value+g.__tdClass(u),style:g.__tdStyle(u)},te(a.default))}}}),ll=W({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:a,emit:t}){const d=X(),{proxy:{$q:s}}=d,g=u=>{t("click",u)};return()=>{if(e.props===void 0)return o("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:g},te(a.default));let u,f;const c=d.vnode.key;if(c){if(u=e.props.colsMap[c],u===void 0)return}else u=e.props.col;if(u.sortable===!0){const n=u.align==="right"?"unshift":"push";f=Dt(a.default,[]),f[n](o(he,{class:u.__iconClass,name:s.iconSet.table.arrowUp}))}else f=te(a.default);const m={class:u.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:u.headerStyle,onClick:n=>{u.sortable===!0&&e.props.sort(u),g(n)}};return o("th",m,f)}}});const al=["horizontal","vertical","cell","none"];var nl=W({name:"QMarkupTable",props:{...ye,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>al.includes(e)}},setup(e,{slots:a}){const t=X(),d=_e(e,t.proxy.$q),s=i(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(d.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>o("div",{class:s.value},[o("table",{class:"q-table"},te(a.default))])}});function vt(e,a){return o("div",e,[o("table",{class:"q-table"},a)])}const ol={list:Lt,table:nl},rl=["list","table","__qtable"];var ul=W({name:"QVirtualScroll",props:{...zt,type:{type:String,default:"list",validator:e=>rl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:a,attrs:t}){let d;const s=T(null),g=i(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:u,localResetVirtualScroll:f,padVirtualScroll:c,onVirtualScrollEvt:m}=Gt({virtualScrollLength:g,getVirtualScrollTarget:q,getVirtualScrollEl:k}),n=i(()=>{if(g.value===0)return[];const p=(A,V)=>({index:u.value.from+V,item:A});return e.itemsFn===void 0?e.items.slice(u.value.from,u.value.to).map(p):e.itemsFn(u.value.from,u.value.to-u.value.from).map(p)}),h=i(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),w=i(()=>e.scrollTarget!==void 0?{}:{tabindex:0});M(g,()=>{f()}),M(()=>e.scrollTarget,()=>{b(),r()});function k(){return s.value.$el||s.value}function q(){return d}function r(){d=Ft(k(),e.scrollTarget),d.addEventListener("scroll",m,Ke.passive)}function b(){d!==void 0&&(d.removeEventListener("scroll",m,Ke.passive),d=void 0)}function y(){let p=c(e.type==="list"?"div":"tbody",n.value.map(a.default));return a.before!==void 0&&(p=a.before().concat(p)),$e(a.after,p)}return ot(()=>{f()}),Ne(()=>{r()}),Nt(()=>{r()}),$t(()=>{b()}),rt(()=>{b()}),()=>{if(a.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?vt({ref:s,class:"q-table__middle "+h.value},y()):o(ol[e.type],{...t,ref:s,class:[t.class,h.value],...w.value},y)}}});const sl={xs:2,sm:4,md:6,lg:10,xl:14};function lt(e,a,t){return{transform:a===!0?`translateX(${t.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var il=W({name:"QLinearProgress",props:{...ye,...ut,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:a}){const{proxy:t}=X(),d=_e(e,t.$q),s=st(e,sl),g=i(()=>e.indeterminate===!0||e.query===!0),u=i(()=>e.reverse!==e.query),f=i(()=>({...s.value!==null?s.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=i(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),m=i(()=>lt(e.buffer!==void 0?e.buffer:1,u.value,t.$q)),n=i(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${d.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),h=i(()=>lt(g.value===!0?1:e.value,u.value,t.$q)),w=i(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${g.value===!0?"in":""}determinate`),k=i(()=>({width:`${e.value*100}%`})),q=i(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const r=[o("div",{class:n.value,style:m.value}),o("div",{class:w.value,style:h.value})];return e.stripe===!0&&g.value===!1&&r.push(o("div",{class:q.value,style:k.value})),o("div",{class:c.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},$e(a.default,r))}}});function cl(e,a){const t=T(null),d=i(()=>e.disable===!0?null:o("span",{ref:t,class:"no-outline",tabindex:-1}));function s(g){const u=a.value;g!==void 0&&g.type.indexOf("key")===0?u!==null&&document.activeElement!==u&&u.contains(document.activeElement)===!0&&u.focus():t.value!==null&&(g===void 0||u!==null&&u.contains(g.target)===!0)&&t.value.focus()}return{refocusTargetEl:d,refocusTarget:s}}var dl={xs:30,sm:35,md:40,lg:50,xl:60};const vl={...ye,...ut,...Kt,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},fl=["update:modelValue"];function gl(e,a){const{props:t,slots:d,emit:s,proxy:g}=X(),{$q:u}=g,f=_e(t,u),c=T(null),{refocusTargetEl:m,refocusTarget:n}=cl(t,c),h=st(t,dl),w=i(()=>t.val!==void 0&&Array.isArray(t.modelValue)),k=i(()=>{const P=Y(t.val);return w.value===!0?t.modelValue.findIndex(L=>Y(L)===P):-1}),q=i(()=>w.value===!0?k.value>-1:Y(t.modelValue)===Y(t.trueValue)),r=i(()=>w.value===!0?k.value===-1:Y(t.modelValue)===Y(t.falseValue)),b=i(()=>q.value===!1&&r.value===!1),y=i(()=>t.disable===!0?-1:t.tabindex||0),p=i(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(f.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),A=i(()=>{const P=q.value===!0?"truthy":r.value===!0?"falsy":"indet",L=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?q.value===!0:r.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${P}${L}`}),V=i(()=>{const P={type:"checkbox"};return t.name!==void 0&&Object.assign(P,{"^checked":q.value===!0?"checked":void 0,name:t.name,value:w.value===!0?t.val:t.trueValue}),P}),B=Wt(V),N=i(()=>{const P={tabindex:y.value,role:"checkbox","aria-label":t.label,"aria-checked":b.value===!0?"mixed":q.value===!0?"true":"false"};return t.disable===!0&&(P["aria-disabled"]="true"),P});function H(P){P!==void 0&&(We(P),n(P)),t.disable!==!0&&s("update:modelValue",z(),P)}function z(){if(w.value===!0){if(q.value===!0){const P=t.modelValue.slice();return P.splice(k.value,1),P}return t.modelValue.concat([t.val])}if(q.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(r.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function re(P){(P.keyCode===13||P.keyCode===32)&&We(P)}function $(P){(P.keyCode===13||P.keyCode===32)&&H(P)}const U=a(q,b);return Object.assign(g,{toggle:H}),()=>{const P=U();t.disable!==!0&&B(P,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const L=[o("div",{class:A.value,style:h.value},P)];m.value!==null&&L.push(m.value);const ue=t.label!==void 0?$e(d.default,[t.label]):te(d.default);return ue!==void 0&&L.push(o("div",{class:`q-${e}__label q-anchor--skip`},ue)),o("div",{ref:c,class:p.value,...N.value,onClick:H,onKeydown:re,onKeyup:$},L)}}const bl=o("div",{key:"svg",class:"q-checkbox__bg absolute"},[o("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),o("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Ee=W({name:"QCheckbox",props:vl,emits:fl,setup(e){function a(t,d){const s=i(()=>(t.value===!0?e.checkedIcon:d.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>s.value!==null?[o("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[o(he,{class:"q-checkbox__icon",name:s.value})])]:[bl]}return gl("checkbox",a)}});let ne=0;const ml={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Sl=["update:fullscreen","fullscreen"];function hl(){const e=X(),{props:a,emit:t,proxy:d}=e;let s,g,u;const f=T(!1);Mt(e)===!0&&M(()=>d.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&n()}),M(()=>a.fullscreen,h=>{f.value!==h&&c()}),M(f,h=>{t("update:fullscreen",h),t("fullscreen",h)});function c(){f.value===!0?n():m()}function m(){f.value!==!0&&(f.value=!0,u=d.$el.parentNode,u.replaceChild(g,d.$el),document.body.appendChild(d.$el),ne++,ne===1&&document.body.classList.add("q-body--fullscreen-mixin"),s={handler:n},Xe.add(s))}function n(){f.value===!0&&(s!==void 0&&(Xe.remove(s),s=void 0),u.replaceChild(d.$el,g),f.value=!1,ne=Math.max(0,ne-1),ne===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),d.$el.scrollIntoView!==void 0&&setTimeout(()=>{d.$el.scrollIntoView()})))}return ot(()=>{g=document.createElement("span")}),Ne(()=>{a.fullscreen===!0&&m()}),rt(n),Object.assign(d,{toggleFullscreen:c,setFullscreen:m,exitFullscreen:n}),{inFullscreen:f,toggleFullscreen:c}}function yl(e,a){return new Date(e)-new Date(a)}const _l={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Cl(e,a,t,d){const s=i(()=>{const{sortBy:f}=a.value;return f&&t.value.find(c=>c.name===f)||null}),g=i(()=>e.sortMethod!==void 0?e.sortMethod:(f,c,m)=>{const n=t.value.find(k=>k.name===c);if(n===void 0||n.field===void 0)return f;const h=m===!0?-1:1,w=typeof n.field=="function"?k=>n.field(k):k=>k[n.field];return f.sort((k,q)=>{let r=w(k),b=w(q);return r==null?-1*h:b==null?1*h:n.sort!==void 0?n.sort(r,b,k,q)*h:De(r)===!0&&De(b)===!0?(r-b)*h:Je(r)===!0&&Je(b)===!0?yl(r,b)*h:typeof r=="boolean"&&typeof b=="boolean"?(r-b)*h:([r,b]=[r,b].map(y=>(y+"").toLocaleString().toLowerCase()),r<b?-1*h:r===b?0:h)})});function u(f){let c=e.columnSortOrder;if(jt(f)===!0)f.sortOrder&&(c=f.sortOrder),f=f.name;else{const h=t.value.find(w=>w.name===f);h!==void 0&&h.sortOrder&&(c=h.sortOrder)}let{sortBy:m,descending:n}=a.value;m!==f?(m=f,n=c==="da"):e.binaryStateSort===!0?n=!n:n===!0?c==="ad"?m=null:n=!1:c==="ad"?n=!0:m=null,d({sortBy:m,descending:n,page:1})}return{columnToSort:s,computedSortMethod:g,sort:u}}const wl={filter:[String,Object],filterMethod:Function};function ql(e,a){const t=i(()=>e.filterMethod!==void 0?e.filterMethod:(d,s,g,u)=>{const f=s?s.toLowerCase():"";return d.filter(c=>g.some(m=>{const n=u(m,c)+"";return(n==="undefined"||n==="null"?"":n.toLowerCase()).indexOf(f)!==-1}))});return M(()=>e.filter,()=>{it(()=>{a({page:1},!0)})},{deep:!0}),{computedFilterMethod:t}}function kl(e,a){for(const t in a)if(a[t]!==e[t])return!1;return!0}function at(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Pl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Rl(e,a){const{props:t,emit:d}=e,s=T(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:t.rowsPerPageOptions.length>0?t.rowsPerPageOptions[0]:5},t.pagination)),g=i(()=>{const n=t["onUpdate:pagination"]!==void 0?{...s.value,...t.pagination}:s.value;return at(n)}),u=i(()=>g.value.rowsNumber!==void 0);function f(n){c({pagination:n,filter:t.filter})}function c(n={}){it(()=>{d("request",{pagination:n.pagination||g.value,filter:n.filter||t.filter,getCellValue:a})})}function m(n,h){const w=at({...g.value,...n});if(kl(g.value,w)===!0){u.value===!0&&h===!0&&f(w);return}if(u.value===!0){f(w);return}t.pagination!==void 0&&t["onUpdate:pagination"]!==void 0?d("update:pagination",w):s.value=w}return{innerPagination:s,computedPagination:g,isServerSide:u,requestServerInteraction:c,setPagination:m}}function Ol(e,a,t,d,s,g){const{props:u,emit:f,proxy:{$q:c}}=e,m=i(()=>d.value===!0?t.value.rowsNumber||0:g.value),n=i(()=>{const{page:V,rowsPerPage:B}=t.value;return(V-1)*B}),h=i(()=>{const{page:V,rowsPerPage:B}=t.value;return V*B}),w=i(()=>t.value.page===1),k=i(()=>t.value.rowsPerPage===0?1:Math.max(1,Math.ceil(m.value/t.value.rowsPerPage))),q=i(()=>h.value===0?!0:t.value.page>=k.value),r=i(()=>(u.rowsPerPageOptions.includes(a.value.rowsPerPage)?u.rowsPerPageOptions:[a.value.rowsPerPage].concat(u.rowsPerPageOptions)).map(B=>({label:B===0?c.lang.table.allRows:""+B,value:B})));M(k,(V,B)=>{if(V===B)return;const N=t.value.page;V&&!N?s({page:1}):V<N&&s({page:V})});function b(){s({page:1})}function y(){const{page:V}=t.value;V>1&&s({page:V-1})}function p(){const{page:V,rowsPerPage:B}=t.value;h.value>0&&V*B<m.value&&s({page:V+1})}function A(){s({page:k.value})}return u["onUpdate:pagination"]!==void 0&&f("update:pagination",{...t.value}),{firstRowIndex:n,lastRowIndex:h,isFirstPage:w,isLastPage:q,pagesNumber:k,computedRowsPerPageOptions:r,computedRowsNumber:m,firstPage:b,prevPage:y,nextPage:p,lastPage:A}}const Vl={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},xl=["update:selected","selection"];function Il(e,a,t,d){const s=i(()=>{const q={};return e.selected.map(d.value).forEach(r=>{q[r]=!0}),q}),g=i(()=>e.selection!=="none"),u=i(()=>e.selection==="single"),f=i(()=>e.selection==="multiple"),c=i(()=>t.value.length>0&&t.value.every(q=>s.value[d.value(q)]===!0)),m=i(()=>c.value!==!0&&t.value.some(q=>s.value[d.value(q)]===!0)),n=i(()=>e.selected.length);function h(q){return s.value[q]===!0}function w(){a("update:selected",[])}function k(q,r,b,y){a("selection",{rows:r,added:b,keys:q,evt:y});const p=u.value===!0?b===!0?r:[]:b===!0?e.selected.concat(r):e.selected.filter(A=>q.includes(d.value(A))===!1);a("update:selected",p)}return{hasSelectionMode:g,singleSelection:u,multipleSelection:f,allRowsSelected:c,someRowsSelected:m,rowsSelectedNumber:n,isRowSelected:h,clearSelection:w,updateSelection:k}}function nt(e){return Array.isArray(e)?e.slice():[]}const pl={expanded:Array},Bl=["update:expanded"];function Al(e,a){const t=T(nt(e.expanded));M(()=>e.expanded,u=>{t.value=nt(u)});function d(u){return t.value.includes(u)}function s(u){e.expanded!==void 0?a("update:expanded",u):t.value=u}function g(u,f){const c=t.value.slice(),m=c.indexOf(u);f===!0?m===-1&&(c.push(u),s(c)):m!==-1&&(c.splice(m,1),s(c))}return{isRowExpanded:d,setExpanded:s,updateExpanded:g}}const Tl={visibleColumns:Array};function El(e,a,t){const d=i(()=>{if(e.columns!==void 0)return e.columns;const f=e.rows[0];return f!==void 0?Object.keys(f).map(c=>({name:c,label:c.toUpperCase(),field:c,align:De(f[c])?"right":"left",sortable:!0})):[]}),s=i(()=>{const{sortBy:f,descending:c}=a.value;return(e.visibleColumns!==void 0?d.value.filter(n=>n.required===!0||e.visibleColumns.includes(n.name)===!0):d.value).map(n=>{const h=n.align||"right",w=`text-${h}`;return{...n,align:h,__iconClass:`q-table__sort-icon q-table__sort-icon--${h}`,__thClass:w+(n.headerClasses!==void 0?" "+n.headerClasses:"")+(n.sortable===!0?" sortable":"")+(n.name===f?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:n.style!==void 0?typeof n.style!="function"?()=>n.style:n.style:()=>null,__tdClass:n.classes!==void 0?typeof n.classes!="function"?()=>w+" "+n.classes:k=>w+" "+n.classes(k):()=>w}})}),g=i(()=>{const f={};return s.value.forEach(c=>{f[c.name]=c}),f}),u=i(()=>e.tableColspan!==void 0?e.tableColspan:s.value.length+(t.value===!0?1:0));return{colList:d,computedCols:s,computedColsMap:g,computedColspan:u}}const Se="q-table__bottom row items-center",ft={};dt.forEach(e=>{ft[e]={}});var Dl=W({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...ft,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...ye,...ml,...Tl,...wl,...Pl,...pl,...Vl,..._l},emits:["request","virtual-scroll",...Sl,...Bl,...xl],setup(e,{slots:a,emit:t}){const d=X(),{proxy:{$q:s}}=d,g=_e(e,s),{inFullscreen:u,toggleFullscreen:f}=hl(),c=i(()=>typeof e.rowKey=="function"?e.rowKey:l=>l[e.rowKey]),m=T(null),n=T(null),h=i(()=>e.grid!==!0&&e.virtualScroll===!0),w=i(()=>" q-table__card"+(g.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),k=i(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":w.value)+(g.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(u.value===!0?" fullscreen scroll":"")),q=i(()=>k.value+(e.loading===!0?" q-table--loading":""));M(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+k.value,()=>{h.value===!0&&n.value!==null&&n.value.reset()});const{innerPagination:r,computedPagination:b,isServerSide:y,requestServerInteraction:p,setPagination:A}=Rl(d,J),{computedFilterMethod:V}=ql(e,A),{isRowExpanded:B,setExpanded:N,updateExpanded:H}=Al(e,t),z=i(()=>{let l=e.rows;if(y.value===!0||l.length===0)return l;const{sortBy:v,descending:S}=b.value;return e.filter&&(l=V.value(l,e.filter,j.value,J)),mt.value!==null&&(l=St.value(e.rows===l?l.slice():l,v,S)),l}),re=i(()=>z.value.length),$=i(()=>{let l=z.value;if(y.value===!0)return l;const{rowsPerPage:v}=b.value;return v!==0&&(ie.value===0&&e.rows!==l?l.length>ce.value&&(l=l.slice(0,ce.value)):l=l.slice(ie.value,ce.value)),l}),{hasSelectionMode:U,singleSelection:P,multipleSelection:L,allRowsSelected:ue,someRowsSelected:Le,rowsSelectedNumber:Ce,isRowSelected:we,clearSelection:gt,updateSelection:se}=Il(e,t,$,c),{colList:bt,computedCols:j,computedColsMap:Fe,computedColspan:Me}=El(e,b,U),{columnToSort:mt,computedSortMethod:St,sort:qe}=Cl(e,b,bt,A),{firstRowIndex:ie,lastRowIndex:ce,isFirstPage:ke,isLastPage:Pe,pagesNumber:de,computedRowsPerPageOptions:ht,computedRowsNumber:ve,firstPage:Re,prevPage:Oe,nextPage:Ve,lastPage:xe}=Ol(d,r,b,y,A,re),yt=i(()=>$.value.length===0),_t=i(()=>{const l={};return dt.forEach(v=>{l[v]=e[v]}),l.virtualScrollItemSize===void 0&&(l.virtualScrollItemSize=e.dense===!0?28:48),l});function Ct(){h.value===!0&&n.value.reset()}function wt(){if(e.grid===!0)return Tt();const l=e.hideHeader!==!0?ze:null;if(h.value===!0){const S=a["top-row"],_=a["bottom-row"],C={default:I=>Qe(I.item,a.body,I.index)};if(S!==void 0){const I=o("tbody",S({cols:j.value}));C.before=l===null?()=>I:()=>[l()].concat(I)}else l!==null&&(C.before=l);return _!==void 0&&(C.after=()=>o("tbody",_({cols:j.value}))),o(ul,{ref:n,class:e.tableClass,style:e.tableStyle,..._t.value,scrollTarget:e.virtualScrollTarget,items:$.value,type:"__qtable",tableColspan:Me.value,onVirtualScroll:kt},C)}const v=[Pt()];return l!==null&&v.unshift(l()),vt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},v)}function qt(l,v){if(n.value!==null){n.value.scrollTo(l,v);return}l=parseInt(l,10);const S=m.value.querySelector(`tbody tr:nth-of-type(${l+1})`);if(S!==null){const _=m.value.querySelector(".q-table__middle.scroll"),{offsetTop:C}=S,I=C<_.scrollTop?"decrease":"increase";_.scrollTop=C,t("virtual-scroll",{index:l,from:0,to:r.value.rowsPerPage-1,direction:I})}}function kt(l){t("virtual-scroll",l)}function je(){return[o(il,{class:"q-table__linear-progress",color:e.color,dark:g.value,indeterminate:!0,trackColor:"transparent"})]}function Qe(l,v,S){const _=c.value(l),C=we(_);if(v!==void 0)return v(Ue({key:_,row:l,pageIndex:S,__trClass:C?"selected":""}));const I=a["body-cell"],x=j.value.map(E=>{const ge=a[`body-cell-${E.name}`],be=ge!==void 0?ge:I;return be!==void 0?be(Rt({key:_,row:l,pageIndex:S,col:E})):o("td",{class:E.__tdClass(l),style:E.__tdStyle(l)},J(E,l))});if(U.value===!0){const E=a["body-selection"],ge=E!==void 0?E(Ot({key:_,row:l,pageIndex:S})):[o(Ee,{modelValue:C,color:e.color,dark:g.value,dense:e.dense,"onUpdate:modelValue":(be,Et)=>{se([_],[l],be,Et)}})];x.unshift(o("td",{class:"q-table--col-auto-width"},ge))}const Q={key:_,class:{selected:C}};return e.onRowClick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onClick=E=>{t("RowClick",E,l,S)}),e.onRowDblclick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onDblclick=E=>{t("RowDblclick",E,l,S)}),e.onRowContextmenu!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onContextmenu=E=>{t("RowContextmenu",E,l,S)}),o("tr",Q,x)}function Pt(){const l=a.body,v=a["top-row"],S=a["bottom-row"];let _=$.value.map((C,I)=>Qe(C,l,I));return v!==void 0&&(_=v({cols:j.value}).concat(_)),S!==void 0&&(_=_.concat(S({cols:j.value}))),o("tbody",_)}function Ue(l){return Ie(l),l.cols=l.cols.map(v=>{const S={...v};return le(S,"value",()=>J(v,l.row)),S}),l}function Rt(l){return Ie(l),le(l,"value",()=>J(l.col,l.row)),l}function Ot(l){return Ie(l),l}function Ie(l){Object.assign(l,{cols:j.value,colsMap:Fe.value,sort:qe,rowIndex:ie.value+l.pageIndex,color:e.color,dark:g.value,dense:e.dense}),U.value===!0&&le(l,"selected",()=>we(l.key),(v,S)=>{se([l.key],[l.row],v,S)}),le(l,"expand",()=>B(l.key),v=>{H(l.key,v)})}function J(l,v){const S=typeof l.field=="function"?l.field(v):v[l.field];return l.format!==void 0?l.format(S,v):S}const Z=i(()=>({pagination:b.value,pagesNumber:de.value,isFirstPage:ke.value,isLastPage:Pe.value,firstPage:Re,prevPage:Oe,nextPage:Ve,lastPage:xe,inFullscreen:u.value,toggleFullscreen:f}));function Vt(){const l=a.top,v=a["top-left"],S=a["top-right"],_=a["top-selection"],C=U.value===!0&&_!==void 0&&Ce.value>0,I="q-table__top relative-position row items-center";if(l!==void 0)return o("div",{class:I},[l(Z.value)]);let x;if(C===!0?x=_(Z.value).slice():(x=[],v!==void 0?x.push(o("div",{class:"q-table-control"},[v(Z.value)])):e.title&&x.push(o("div",{class:"q-table__control"},[o("div",{class:["q-table__title",e.titleClass]},e.title)]))),S!==void 0&&(x.push(o("div",{class:"q-table__separator col"})),x.push(o("div",{class:"q-table__control"},[S(Z.value)]))),x.length!==0)return o("div",{class:I},x)}const He=i(()=>Le.value===!0?null:ue.value);function ze(){const l=xt();return e.loading===!0&&a.loading===void 0&&l.push(o("tr",{class:"q-table__progress"},[o("th",{class:"relative-position",colspan:Me.value},je())])),o("thead",l)}function xt(){const l=a.header,v=a["header-cell"];if(l!==void 0)return l(pe({header:!0})).slice();const S=j.value.map(_=>{const C=a[`header-cell-${_.name}`],I=C!==void 0?C:v,x=pe({col:_});return I!==void 0?I(x):o(ll,{key:_.name,props:x},()=>_.label)});if(P.value===!0&&e.grid!==!0)S.unshift(o("th",{class:"q-table--col-auto-width"}," "));else if(L.value===!0){const _=a["header-selection"],C=_!==void 0?_(pe({})):[o(Ee,{color:e.color,modelValue:He.value,dark:g.value,dense:e.dense,"onUpdate:modelValue":Ge})];S.unshift(o("th",{class:"q-table--col-auto-width"},C))}return[o("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},S)]}function pe(l){return Object.assign(l,{cols:j.value,sort:qe,colsMap:Fe.value,color:e.color,dark:g.value,dense:e.dense}),L.value===!0&&le(l,"selected",()=>He.value,Ge),l}function Ge(l){Le.value===!0&&(l=!1),se($.value.map(c.value),$.value,l)}const fe=i(()=>{const l=[e.iconFirstPage||s.iconSet.table.firstPage,e.iconPrevPage||s.iconSet.table.prevPage,e.iconNextPage||s.iconSet.table.nextPage,e.iconLastPage||s.iconSet.table.lastPage];return s.lang.rtl===!0?l.reverse():l});function It(){if(e.hideBottom===!0)return;if(yt.value===!0){if(e.hideNoData===!0)return;const S=e.loading===!0?e.loadingLabel||s.lang.table.loading:e.filter?e.noResultsLabel||s.lang.table.noResults:e.noDataLabel||s.lang.table.noData,_=a["no-data"],C=_!==void 0?[_({message:S,icon:s.iconSet.table.warning,filter:e.filter})]:[o(he,{class:"q-table__bottom-nodata-icon",name:s.iconSet.table.warning}),S];return o("div",{class:Se+" q-table__bottom--nodata"},C)}const l=a.bottom;if(l!==void 0)return o("div",{class:Se},[l(Z.value)]);const v=e.hideSelectedBanner!==!0&&U.value===!0&&Ce.value>0?[o("div",{class:"q-table__control"},[o("div",[(e.selectedRowsLabel||s.lang.table.selectedRecords)(Ce.value)])])]:[];if(e.hidePagination!==!0)return o("div",{class:Se+" justify-end"},Bt(v));if(v.length>0)return o("div",{class:Se},v)}function pt(l){A({page:1,rowsPerPage:l.value})}function Bt(l){let v;const{rowsPerPage:S}=b.value,_=e.paginationLabel||s.lang.table.pagination,C=a.pagination,I=e.rowsPerPageOptions.length>1;if(l.push(o("div",{class:"q-table__separator col"})),I===!0&&l.push(o("div",{class:"q-table__control"},[o("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||s.lang.table.recordsPerPage]),o(Xt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:S,options:ht.value,displayValue:S===0?s.lang.table.allRows:S,dark:g.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":pt})])),C!==void 0)v=C(Z.value);else if(v=[o("span",S!==0?{class:"q-table__bottom-item"}:{},[S?_(ie.value+1,Math.min(ce.value,ve.value),ve.value):_(1,re.value,ve.value)])],S!==0&&de.value>1){const x={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(x.size="sm"),de.value>2&&v.push(o(F,{key:"pgFirst",...x,icon:fe.value[0],disable:ke.value,onClick:Re})),v.push(o(F,{key:"pgPrev",...x,icon:fe.value[1],disable:ke.value,onClick:Oe}),o(F,{key:"pgNext",...x,icon:fe.value[2],disable:Pe.value,onClick:Ve})),de.value>2&&v.push(o(F,{key:"pgLast",...x,icon:fe.value[3],disable:Pe.value,onClick:xe}))}return l.push(o("div",{class:"q-table__control"},v)),l}function At(){const l=e.gridHeader===!0?[o("table",{class:"q-table"},[ze()])]:e.loading===!0&&a.loading===void 0?je():void 0;return o("div",{class:"q-table__middle"},l)}function Tt(){const l=a.item!==void 0?a.item:v=>{const S=v.cols.map(C=>o("div",{class:"q-table__grid-item-row"},[o("div",{class:"q-table__grid-item-title"},[C.label]),o("div",{class:"q-table__grid-item-value"},[C.value])]));if(U.value===!0){const C=a["body-selection"],I=C!==void 0?C(v):[o(Ee,{modelValue:v.selected,color:e.color,dark:g.value,dense:e.dense,"onUpdate:modelValue":(x,Q)=>{se([v.key],[v.row],x,Q)}})];S.unshift(o("div",{class:"q-table__grid-item-row"},I),o(ct,{dark:g.value}))}const _={class:["q-table__grid-item-card"+w.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(_.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(_.onClick=C=>{t("RowClick",C,v.row,v.pageIndex)}),e.onRowDblclick!==void 0&&(_.onDblclick=C=>{t("RowDblclick",C,v.row,v.pageIndex)})),o("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(v.selected===!0?" q-table__grid-item--selected":"")},[o("div",_,S)])};return o("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},$.value.map((v,S)=>l(Ue({key:c.value(v),row:v,pageIndex:S}))))}return Object.assign(d.proxy,{requestServerInteraction:p,setPagination:A,firstPage:Re,prevPage:Oe,nextPage:Ve,lastPage:xe,isRowSelected:we,clearSelection:gt,isRowExpanded:B,setExpanded:N,sort:qe,resetVirtualScroll:Ct,scrollTo:qt,getCellValue:J}),Qt(d.proxy,{filteredSortedRows:()=>z.value,computedRows:()=>$.value,computedRowsNumber:()=>ve.value}),()=>{const l=[Vt()],v={ref:m,class:q.value};return e.grid===!0?l.push(At()):Object.assign(v,{class:[v.class,e.cardClass],style:e.cardStyle}),l.push(wt(),It()),e.loading===!0&&a.loading!==void 0&&l.push(a.loading()),o("div",v,l)}}});const Nl={key:0,class:"q-pa-md"},$l=oe("div",{class:"text-h5"},"Detalle de la Variable",-1),Ll=D(" Cancelar "),Fl=D(" Editar "),Ml=D(" Borrar "),jl={key:0},Ql={class:"col-12 q-col-gutter-xl"},Ul=D("Variable"),Hl={class:"col-6"},zl={class:"col-6"},Gl={class:"col-12"},Kl=D(" Guardar "),ea={__name:"UsvgsPage",setup(e){const{t:a}=el(),t=T(null),d=Zt(),s=T([{name:"IDVARIABLE",align:"right",label:"Identificador",field:"IDVARIABLE",sortable:!0},{name:"DESCRIPCION",required:!0,label:"Denominaci\xF3n",align:"left",field:r=>r.DESCRIPCION,format:r=>`${r}`,sortable:!0},{name:"DATO",required:!0,label:"Valor",align:"left",field:r=>r.DATO,format:r=>`${r}`,sortable:!0},{name:"OBSERVACION",required:!0,label:"Observaci\xF3n",align:"left",field:r=>r.OBSERVACION,format:r=>`${r?(r==null?void 0:r.length)>20?r.substring(0,20)+"...":r:""}`,sortable:!0},{name:"ESTADO",required:!0,label:"Estado",align:"left",field:r=>r.ESTADO,format:r=>`${r?(r==null?void 0:r.length)>20?r.substring(0,20)+"...":r:""}`,sortable:!1}]),g=T([]),u=T(""),f=T(!1),c=T({sortBy:"IDVARIABLE",descending:!1,page:1,rowsPerPage:7,rowsNumber:0}),m=T(""),n=T(!0),h=r=>{const{page:b,rowsPerPage:y,sortBy:p,descending:A}=r.pagination,V=r.filter;f.value=!0;const B={Tabla:"USVGS",NumPagina:b,TamPagina:y,OrdenarPor:p+(A?" DESC":""),StringABuscar:V,ColumnasFiltro:"IDVARIABLE, DESCRIPCION, DATO",ColumnasVisibles:"IDVARIABLE, DESCRIPCION, DATO, OBSERVACION, IIF(COALESCE(DATO, '') = '', 'Sin Configurar', 'Configurado') AS ESTADO"};tt.post("read",B).then(N=>{const H=N.data.result.output.TotalRegistros,z=N.data.result.recordset;c.value.rowsNumber=H,g.value.splice(0,g.value.length,...z),c.value.page=b,c.value.rowsPerPage=y,c.value.sortBy=p,c.value.descending=A}).catch(N=>{console.error(N)}).finally(()=>{f.value=!1})},w=r=>{t.value=r,n.value=!0,m.value="detalle"},k=()=>{d.loading.show({message:"Guardando la variable de sistema..."}),tt.post("json",{MODELO:"USVGS_CURSO",METODO:n.value?"UPDATE":"INSERT",PARAMETROS:{IDVARIABLE:t.value.IDVARIABLE,DATO:t.value.DATO,DESCRIPCION:n.value?void 0:t.value.DESCRIPCION,OBSERVACION:t.value.OBSERVACION}}).then(r=>{let b=!1;r.data.result.recordset.forEach(y=>{b=y.OK==="OK"}),b&&(d.notify({color:"positive",textColor:"white",icon:"check",message:a("form.saved"),progress:!0,actions:[{icon:"close",color:"white"}]}),n.value?m.value="detalle":(u.value=t.value.IDVARIABLE,m.value=""))}).catch(r=>{console.error(r)}).finally(()=>{d.loading.hide()})},q=()=>{t.value={IDVARIABLE:"",DESCRIPCION:"",DATO:"",OBSERVACION:""},n.value=!1,m.value="formulario"};return Ne(()=>{h({pagination:c.value,filter:u.value})}),M(()=>t.value,r=>{r||(m.value="")}),(r,b)=>(ee(),me(Yt,null,{default:O(()=>[R(Te,{appear:"","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutRight"},{default:O(()=>[m.value==="detalle"?(ee(),Ze("div",Nl,[$l,R(Ye,null,{default:O(()=>[R(Be,null,{default:O(()=>[R(G,null,{default:O(()=>[D(K(t.value.IDVARIABLE),1)]),_:1}),R(G,{caption:"",lines:"2"},{default:O(()=>[D(K(t.value.DESCRIPCION),1)]),_:1}),R(G,null,{default:O(()=>[D("Valor de la Variable: "+K(t.value.DATO),1)]),_:1}),t.value.OBSERVACION?(ee(),me(G,{key:0},{default:O(()=>[D("Observaci\xF3n: "+K(t.value.OBSERVACION),1)]),_:1})):Ae("",!0),R(G,null,{default:O(()=>[D("Estado: "+K(t.value.ESTADO),1)]),_:1})]),_:1})]),_:1}),R(ct),R(et,null,{default:O(()=>[R(F,{flat:"",icon:"undo",onClick:b[0]||(b[0]=y=>t.value=null)},{default:O(()=>[Ll]),_:1}),R(F,{flat:"",color:"primary",onClick:b[1]||(b[1]=y=>m.value="formulario")},{default:O(()=>[Fl]),_:1}),R(F,{flat:"",color:"negative"},{default:O(()=>[Ml]),_:1})]),_:1})])):Ae("",!0)]),_:1}),R(Te,{appear:"","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutRight"},{default:O(()=>[Ut(R(Dl,{title:"Variables generales del sistema",rows:g.value,columns:s.value,"row-key":"IDVARIABLE",pagination:c.value,"onUpdate:pagination":b[3]||(b[3]=y=>c.value=y),loading:f.value,filter:u.value,onRequest:h,"binary-state-sort":"","rows-per-page-options":[3,5,7,10,15,20,25,50,100],class:"q-pa-none q-ma-none",flat:""},{"top-right":O(()=>[R(F,{color:"primary",icon:"add",label:"Nueva Variable",onClick:q}),R(ae,{borderless:"",dense:"",debounce:"300",modelValue:u.value,"onUpdate:modelValue":b[2]||(b[2]=y=>u.value=y),placeholder:"Buscar",clearable:"",class:"q-pl-xl"},{append:O(()=>[R(he,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell":O(y=>[R(tl,{props:y,class:"cursor-pointer",onClick:p=>w(y.row)},{default:O(()=>[D(K(y.value),1)]),_:2},1032,["props","onClick"])]),_:1},8,["rows","columns","pagination","loading","filter"]),[[Ht,m.value===""]])]),_:1}),R(Te,{appear:"","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutRight"},{default:O(()=>[m.value==="formulario"?(ee(),Ze("div",jl,[R(Jt,{onSubmit:k,class:"row q-col-gutter-xs q-pa-md"},{default:O(()=>[oe("div",Ql,[R(Ye,null,{default:O(()=>[n.value?(ee(),me(Be,{key:0},{default:O(()=>[R(G,{caption:""},{default:O(()=>[Ul]),_:1}),R(G,null,{default:O(()=>[D(K(t.value.IDVARIABLE),1)]),_:1})]),_:1})):(ee(),me(Be,{key:1,class:"col-4"},{default:O(()=>[R(ae,{modelValue:t.value.IDVARIABLE,"onUpdate:modelValue":b[4]||(b[4]=y=>t.value.IDVARIABLE=y),type:"text",label:"Id. Variable",maxlength:"20",rules:[y=>y&&y.length>0||r.$t("form.required.text")]},null,8,["modelValue","rules"])]),_:1}))]),_:1})]),oe("div",Hl,[R(ae,{modelValue:t.value.DESCRIPCION,"onUpdate:modelValue":b[5]||(b[5]=y=>t.value.DESCRIPCION=y),type:"text",label:"Descripci\xF3n",maxlength:"100",readonly:n.value,rules:[y=>y&&y.length>0||r.$t("form.required.text")]},null,8,["modelValue","readonly","rules"])]),oe("div",zl,[R(ae,{modelValue:t.value.DATO,"onUpdate:modelValue":b[6]||(b[6]=y=>t.value.DATO=y),type:"text",label:"Valor de la variable",maxlength:"120"},null,8,["modelValue"])]),oe("div",Gl,[R(ae,{modelValue:t.value.OBSERVACION,"onUpdate:modelValue":b[7]||(b[7]=y=>t.value.OBSERVACION=y),type:"text",label:"Observaci\xF3n",maxlength:"4096",autogrow:""},null,8,["modelValue"])]),R(et,null,{default:O(()=>[R(F,{flat:"",onClick:b[8]||(b[8]=y=>m.value=n.value?"detalle":""),icon:"undo",label:"Cancelar"}),R(F,{flat:"",icon:"check",color:"primary",type:"submit"},{default:O(()=>[Kl]),_:1})]),_:1})]),_:1})])):Ae("",!0)]),_:1})]),_:1}))}};export{ea as default};
