import{w as G,I as ge,i as Yt,g as de,aD as Gt,ap as Jt,G as Ce,aq as el,c as b,h as w,aE as tl,r as j,aF as ll,ay as Bl,aG as nl,aH as Ye,X as ve,a4 as ie,ao as dt,an as ft,o as Ge,aa as zl,S as he,Z as vt,a0 as mt,aI as Ol,z as Fe,aJ as Tl,H as _e,A as ol,aK as al,M as ul,U as Se,N as Il,ak as Pl,a6 as $l,aL as Hl,aM as il,P as Ft,W as Ll,ab as it,aN as Bt,ah as Dl,Y as Nl,aO as jl,$ as Wl,aP as Kl,a1 as Ul,aQ as Ql,a2 as Zl,aR as Xl,aS as Yl,V as Gl,aT as Jl,aU as zt,ae as en,aV as tn,aW as ln,aX as nn,aY as on,aZ as Te,a_ as an,y as un,x as rn,aj as sn,ac as cn,a$ as dn}from"./index.b48f70d8.js";import{b as fn,c as vn,n as Ot,Q as mn}from"./format.e98013f3.js";function hn({validate:e,resetValidation:t,requiresQForm:n}){const o=Yt(Gt,!1);if(o!==!1){const{props:r,proxy:a}=de();Object.assign(a,{validate:e,resetValidation:t}),G(()=>r.disable,u=>{u===!0?(typeof t=="function"&&t(),o.unbindComponent(a)):o.bindComponent(a)}),r.disable!==!0&&o.bindComponent(a),ge(()=>{r.disable!==!0&&o.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Tt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,It=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Pt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,je=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,We=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,$t={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Tt.test(e),hexaColor:e=>It.test(e),hexOrHexaColor:e=>Pt.test(e),rgbColor:e=>je.test(e),rgbaColor:e=>We.test(e),rgbOrRgbaColor:e=>je.test(e)||We.test(e),hexOrRgbColor:e=>Tt.test(e)||je.test(e),hexaOrRgbaColor:e=>It.test(e)||We.test(e),anyColor:e=>Pt.test(e)||je.test(e)||We.test(e)};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(e=>{e.toLowerCase()});const gn={...Jt,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},rt=50,rl=2*rt,sl=rl*Math.PI,Sn=Math.round(sl*1e3)/1e3;Ce({name:"QCircularProgress",props:{...gn,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=de(),o=el(e),r=b(()=>{const A=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-A}deg)`:`rotate3d(0, 0, 1, ${A-90}deg)`}}),a=b(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),u=b(()=>rl/(1-e.thickness/2)),h=b(()=>`${u.value/2} ${u.value/2} ${u.value} ${u.value}`),f=b(()=>fn(e.value,e.min,e.max)),m=b(()=>sl*(1-(f.value-e.min)/(e.max-e.min))),c=b(()=>e.thickness/2*u.value);function q({thickness:A,offset:i,color:E,cls:K}){return w("circle",{class:"q-circular-progress__"+K+(E!==void 0?` text-${E}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":A,"stroke-dasharray":Sn,"stroke-dashoffset":i,cx:u.value,cy:u.value,r:rt})}return()=>{const A=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&A.push(w("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:rt-c.value/2,cx:u.value,cy:u.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&A.push(q({cls:"track",thickness:c.value,offset:0,color:e.trackColor})),A.push(q({cls:"circle",thickness:c.value,offset:m.value,color:e.color}));const i=[w("svg",{class:"q-circular-progress__svg",style:r.value,viewBox:h.value,"aria-hidden":"true"},A)];return e.showValue===!0&&i.push(w("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[w("div",f.value)])),w("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:f.value},tl(t.internal,i))}}});const yn=["rejected"],bn=[...yn,"start","finish","added","removed"],xn=()=>!0;function wn(e){const t={};return e.forEach(n=>{t[n]=xn}),t}wn(bn);let at,Ke=0;const ue=new Array(256);for(let e=0;e<256;e++)ue[e]=(e+256).toString(16).substring(1);const Cn=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),Ht=4096;function kn(){(at===void 0||Ke+16>Ht)&&(Ke=0,at=Cn(Ht));const e=Array.prototype.slice.call(at,Ke,Ke+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,ue[e[0]]+ue[e[1]]+ue[e[2]]+ue[e[3]]+"-"+ue[e[4]]+ue[e[5]]+"-"+ue[e[6]]+ue[e[7]]+"-"+ue[e[8]]+ue[e[9]]+"-"+ue[e[10]]+ue[e[11]]+ue[e[12]]+ue[e[13]]+ue[e[14]]+ue[e[15]]}const pn=[!0,!1,"ondemand"],Vn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>pn.includes(e)}};function qn(e,t){const{props:n,proxy:o}=de(),r=j(!1),a=j(null),u=j(null);hn({validate:E,resetValidation:i});let h=0,f;const m=b(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),c=b(()=>n.disable!==!0&&m.value===!0),q=b(()=>n.error===!0||r.value===!0),A=b(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:a.value);G(()=>n.modelValue,()=>{K()}),G(()=>n.reactiveRules,U=>{U===!0?f===void 0&&(f=G(()=>n.rules,()=>{K(!0)})):f!==void 0&&(f(),f=void 0)},{immediate:!0}),G(e,U=>{U===!0?u.value===null&&(u.value=!1):u.value===!1&&(u.value=!0,c.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&R())});function i(){h++,t.value=!1,u.value=null,r.value=!1,a.value=null,R.cancel()}function E(U=n.modelValue){if(c.value!==!0)return!0;const L=++h;t.value!==!0&&n.lazyRules!==!0&&(u.value=!0);const H=(B,s)=>{r.value!==B&&(r.value=B);const S=s||void 0;a.value!==S&&(a.value=S),t.value=!1},I=[];for(let B=0;B<n.rules.length;B++){const s=n.rules[B];let S;if(typeof s=="function"?S=s(U):typeof s=="string"&&$t[s]!==void 0&&(S=$t[s](U)),S===!1||typeof S=="string")return H(!0,S),!1;S!==!0&&S!==void 0&&I.push(S)}return I.length===0?(H(!1),!0):(t.value=!0,Promise.all(I).then(B=>{if(B===void 0||Array.isArray(B)===!1||B.length===0)return L===h&&H(!1),!0;const s=B.find(S=>S===!1||typeof S=="string");return L===h&&H(s!==void 0,s),s===void 0},B=>(L===h&&(console.error(B),H(!0)),!1)))}function K(U){c.value===!0&&n.lazyRules!=="ondemand"&&(u.value===!0||n.lazyRules!==!0&&U!==!0)&&R()}const R=ll(E,0);return ge(()=>{f!==void 0&&f(),R.cancel()}),Object.assign(o,{resetValidation:i,validate:E}),Bl(o,"hasError",()=>q.value),{isDirtyModel:u,hasRules:m,hasError:q,errorMessage:A,validate:E,resetValidation:i}}const Lt=/^on[A-Z]/;function Mn(e,t){const n={listeners:j({}),attributes:j({})};function o(){const r={},a={};for(const u in e)u!=="class"&&u!=="style"&&Lt.test(u)===!1&&(r[u]=e[u]);for(const u in t.props)Lt.test(u)===!0&&(a[u]=t.props[u]);n.attributes.value=r,n.listeners.value=a}return nl(o),o(),n}function st(e){return e===void 0?`f_${kn()}`:e}function Pe(e){return e!=null&&(""+e).length>0}const Je={...vt,...Vn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},ht=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function gt(){const{props:e,attrs:t,proxy:n,vnode:o}=de();return{isDark:mt(e,n.$q),editable:b(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:j(!1),focused:j(!1),hasPopupOpen:!1,splitAttrs:Mn(t,o),targetUid:j(st(e.for)),rootRef:j(null),targetRef:j(null),controlRef:j(null)}}function St(e){const{props:t,emit:n,slots:o,attrs:r,proxy:a}=de(),{$q:u}=a;let h;e.hasValue===void 0&&(e.hasValue=b(()=>Pe(t.modelValue))),e.emitValue===void 0&&(e.emitValue=v=>{n("update:modelValue",v)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:M,onFocusout:V}),Object.assign(e,{clearValue:C,onControlFocusin:M,onControlFocusout:V,focus:S}),e.computedCounter===void 0&&(e.computedCounter=b(()=>{if(t.counter!==!1){const v=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,z=t.maxlength!==void 0?t.maxlength:t.maxValues;return v+(z!==void 0?" / "+z:"")}}));const{isDirtyModel:f,hasRules:m,hasError:c,errorMessage:q,resetValidation:A}=qn(e.focused,e.innerLoading),i=e.floatingLabel!==void 0?b(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):b(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),E=b(()=>t.bottomSlots===!0||t.hint!==void 0||m.value===!0||t.counter===!0||t.error!==null),K=b(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),R=b(()=>`q-field row no-wrap items-start q-field--${K.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(i.value===!0?" q-field--float":"")+(L.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&E.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),U=b(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),L=b(()=>t.labelSlot===!0||t.label!==void 0),H=b(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),I=b(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:i.value,modelValue:t.modelValue,emitValue:e.emitValue})),B=b(()=>{const v={for:e.targetUid.value};return t.disable===!0?v["aria-disabled"]="true":t.readonly===!0&&(v["aria-readonly"]="true"),v});G(()=>t.for,v=>{e.targetUid.value=st(v)});function s(){const v=document.activeElement;let z=e.targetRef!==void 0&&e.targetRef.value;z&&(v===null||v.id!==e.targetUid.value)&&(z.hasAttribute("tabindex")===!0||(z=z.querySelector("[tabindex]")),z&&z!==v&&z.focus({preventScroll:!0}))}function S(){Ye(s)}function p(){Ol(s);const v=document.activeElement;v!==null&&e.rootRef.value.contains(v)&&v.blur()}function M(v){clearTimeout(h),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",v))}function V(v,z){clearTimeout(h),h=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,n("blur",v)),z!==void 0&&z())})}function C(v){ve(v),u.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),ie(()=>{A(),u.platform.is.mobile!==!0&&(f.value=!1)})}function N(){const v=[];return o.prepend!==void 0&&v.push(w("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:he},o.prepend())),v.push(w("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},O())),c.value===!0&&t.noErrorIcon===!1&&v.push(J("error",[w(Fe,{name:u.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?v.push(J("inner-loading-append",o.loading!==void 0?o.loading():[w(Tl,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&v.push(J("inner-clearable-append",[w(Fe,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||u.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:C})])),o.append!==void 0&&v.push(w("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:he},o.append())),e.getInnerAppend!==void 0&&v.push(J("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&v.push(e.getControlChild()),v}function O(){const v=[];return t.prefix!==void 0&&t.prefix!==null&&v.push(w("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&v.push(e.getShadowControl()),e.getControl!==void 0?v.push(e.getControl()):o.rawControl!==void 0?v.push(o.rawControl()):o.control!==void 0&&v.push(w("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(I.value))),L.value===!0&&v.push(w("div",{class:H.value},_e(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&v.push(w("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),v.concat(_e(o.default))}function Q(){let v,z;c.value===!0?q.value!==null?(v=[w("div",{role:"alert"},q.value)],z=`q--slot-error-${q.value}`):(v=_e(o.error),z="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(v=[w("div",t.hint)],z=`q--slot-hint-${t.hint}`):(v=_e(o.hint),z="q--slot-hint"));const g=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&g===!1&&v===void 0)return;const d=w("div",{key:z,class:"q-field__messages col"},v);return w("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale")},[t.hideBottomSpace===!0?d:w(ol,{name:"q-transition--field-message"},()=>d),g===!0?w("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function J(v,z){return z===null?null:w("div",{key:v,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},z)}Object.assign(a,{focus:S,blur:p});let te=!1;return dt(()=>{te=!0}),ft(()=>{te===!0&&t.autofocus===!0&&a.focus()}),Ge(()=>{zl.value===!0&&t.for===void 0&&(e.targetUid.value=st()),t.autofocus===!0&&a.focus()}),ge(()=>{clearTimeout(h)}),function(){const z=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...B.value}:B.value;return w("label",{ref:e.rootRef,class:[R.value,r.class],style:r.style,...z},[o.before!==void 0?w("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:he},o.before()):null,w("div",{class:"q-field__inner relative-position col self-stretch"},[w("div",{ref:e.controlRef,class:U.value,tabindex:-1,...e.controlEvents},N()),E.value===!0?Q():null]),o.after!==void 0?w("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:he},o.after()):null])}}const Dt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Ue={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},cl=Object.keys(Ue);cl.forEach(e=>{Ue[e].regex=new RegExp(Ue[e].pattern)});const An=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+cl.join("")+"])|(.)","g"),Nt=/[.*+?^${}()|[\]\\]/g,oe=String.fromCharCode(1),En={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Rn(e,t,n,o){let r,a,u,h;const f=j(null),m=j(q());function c(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}G(()=>e.type+e.autogrow,i),G(()=>e.mask,s=>{if(s!==void 0)E(m.value,!0);else{const S=I(m.value);i(),e.modelValue!==S&&t("update:modelValue",S)}}),G(()=>e.fillMask+e.reverseFillMask,()=>{f.value===!0&&E(m.value,!0)}),G(()=>e.unmaskedValue,()=>{f.value===!0&&E(m.value)});function q(){if(i(),f.value===!0){const s=L(I(e.modelValue));return e.fillMask!==!1?B(s):s}return e.modelValue}function A(s){if(s<r.length)return r.slice(-s);let S="",p=r;const M=p.indexOf(oe);if(M>-1){for(let V=s-p.length;V>0;V--)S+=oe;p=p.slice(0,M)+S+p.slice(M)}return p}function i(){if(f.value=e.mask!==void 0&&e.mask.length>0&&c(),f.value===!1){h=void 0,r="",a="";return}const s=Dt[e.mask]===void 0?e.mask:Dt[e.mask],S=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",p=S.replace(Nt,"\\$&"),M=[],V=[],C=[];let N=e.reverseFillMask===!0,O="",Q="";s.replace(An,(z,g,d,y,_)=>{if(y!==void 0){const F=Ue[y];C.push(F),Q=F.negate,N===!0&&(V.push("(?:"+Q+"+)?("+F.pattern+"+)?(?:"+Q+"+)?("+F.pattern+"+)?"),N=!1),V.push("(?:"+Q+"+)?("+F.pattern+")?")}else if(d!==void 0)O="\\"+(d==="\\"?"":d),C.push(d),M.push("([^"+O+"]+)?"+O+"?");else{const F=g!==void 0?g:_;O=F==="\\"?"\\\\\\\\":F.replace(Nt,"\\\\$&"),C.push(F),M.push("([^"+O+"]+)?"+O+"?")}});const J=new RegExp("^"+M.join("")+"("+(O===""?".":"[^"+O+"]")+"+)?$"),te=V.length-1,v=V.map((z,g)=>g===0&&e.reverseFillMask===!0?new RegExp("^"+p+"*"+z):g===te?new RegExp("^"+z+"("+(Q===""?".":Q)+"+)?"+(e.reverseFillMask===!0?"$":p+"*")):new RegExp("^"+z));u=C,h=z=>{const g=J.exec(z);g!==null&&(z=g.slice(1).join(""));const d=[],y=v.length;for(let _=0,F=z;_<y;_++){const Z=v[_].exec(F);if(Z===null)break;F=F.slice(Z.shift().length),d.push(...Z)}return d.length>0?d.join(""):z},r=C.map(z=>typeof z=="string"?z:oe).join(""),a=r.split(oe).join(S)}function E(s,S,p){const M=o.value,V=M.selectionEnd,C=M.value.length-V,N=I(s);S===!0&&i();const O=L(N),Q=e.fillMask!==!1?B(O):O,J=m.value!==Q;M.value!==Q&&(M.value=Q),J===!0&&(m.value=Q),document.activeElement===M&&ie(()=>{if(Q===a){const v=e.reverseFillMask===!0?a.length:0;M.setSelectionRange(v,v,"forward");return}if(p==="insertFromPaste"&&e.reverseFillMask!==!0){const v=V-1;R.right(M,v,v);return}if(["deleteContentBackward","deleteContentForward"].indexOf(p)>-1){const v=e.reverseFillMask===!0?V===0?Q.length>O.length?1:0:Math.max(0,Q.length-(Q===a?0:Math.min(O.length,C)+1))+1:V;M.setSelectionRange(v,v,"forward");return}if(e.reverseFillMask===!0)if(J===!0){const v=Math.max(0,Q.length-(Q===a?0:Math.min(O.length,C+1)));v===1&&V===1?M.setSelectionRange(v,v,"forward"):R.rightReverse(M,v,v)}else{const v=Q.length-C;M.setSelectionRange(v,v,"backward")}else if(J===!0){const v=Math.max(0,r.indexOf(oe),Math.min(O.length,V)-1);R.right(M,v,v)}else{const v=V-1;R.right(M,v,v)}});const te=e.unmaskedValue===!0?I(Q):Q;String(e.modelValue)!==te&&n(te,!0)}function K(s,S,p){const M=L(I(s.value));S=Math.max(0,r.indexOf(oe),Math.min(M.length,S)),s.setSelectionRange(S,p,"forward")}const R={left(s,S,p,M){const V=r.slice(S-1).indexOf(oe)===-1;let C=Math.max(0,S-1);for(;C>=0;C--)if(r[C]===oe){S=C,V===!0&&S++;break}if(C<0&&r[S]!==void 0&&r[S]!==oe)return R.right(s,0,0);S>=0&&s.setSelectionRange(S,M===!0?p:S,"backward")},right(s,S,p,M){const V=s.value.length;let C=Math.min(V,p+1);for(;C<=V;C++)if(r[C]===oe){p=C;break}else r[C-1]===oe&&(p=C);if(C>V&&r[p-1]!==void 0&&r[p-1]!==oe)return R.left(s,V,V);s.setSelectionRange(M?S:p,p,"forward")},leftReverse(s,S,p,M){const V=A(s.value.length);let C=Math.max(0,S-1);for(;C>=0;C--)if(V[C-1]===oe){S=C;break}else if(V[C]===oe&&(S=C,C===0))break;if(C<0&&V[S]!==void 0&&V[S]!==oe)return R.rightReverse(s,0,0);S>=0&&s.setSelectionRange(S,M===!0?p:S,"backward")},rightReverse(s,S,p,M){const V=s.value.length,C=A(V),N=C.slice(0,p+1).indexOf(oe)===-1;let O=Math.min(V,p+1);for(;O<=V;O++)if(C[O-1]===oe){p=O,p>0&&N===!0&&p--;break}if(O>V&&C[p-1]!==void 0&&C[p-1]!==oe)return R.leftReverse(s,V,V);s.setSelectionRange(M===!0?S:p,p,"forward")}};function U(s){if(al(s)===!0)return;const S=o.value,p=S.selectionStart,M=S.selectionEnd;if(s.keyCode===37||s.keyCode===39){const V=R[(s.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];s.preventDefault(),V(S,p,M,s.shiftKey)}else s.keyCode===8&&e.reverseFillMask!==!0&&p===M?R.left(S,p,M,!0):s.keyCode===46&&e.reverseFillMask===!0&&p===M&&R.rightReverse(S,p,M,!0)}function L(s){if(s==null||s==="")return"";if(e.reverseFillMask===!0)return H(s);const S=u;let p=0,M="";for(let V=0;V<S.length;V++){const C=s[p],N=S[V];if(typeof N=="string")M+=N,C===N&&p++;else if(C!==void 0&&N.regex.test(C))M+=N.transform!==void 0?N.transform(C):C,p++;else return M}return M}function H(s){const S=u,p=r.indexOf(oe);let M=s.length-1,V="";for(let C=S.length-1;C>=0&&M>-1;C--){const N=S[C];let O=s[M];if(typeof N=="string")V=N+V,O===N&&M--;else if(O!==void 0&&N.regex.test(O))do V=(N.transform!==void 0?N.transform(O):O)+V,M--,O=s[M];while(p===C&&O!==void 0&&N.regex.test(O));else return V}return V}function I(s){return typeof s!="string"||h===void 0?typeof s=="number"?h(""+s):s:h(s)}function B(s){return a.length-s.length<=0?s:e.reverseFillMask===!0&&s.length>0?a.slice(0,-s.length)+s:s+a.slice(s.length)}return{innerValue:m,hasMask:f,moveCursorForPaste:K,updateMaskValue:E,onMaskedKeydown:U}}const dl={name:String};function no(e={}){return(t,n,o)=>{t[n](w("input",{class:"hidden"+(o||""),...e.value}))}}function fl(e){return b(()=>e.name||e.for)}function _n(e,t){function n(){const o=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{r.items.add(a)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?b(()=>{if(e.type==="file")return n()}):b(n)}const Fn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Bn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,zn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,On=/[a-z0-9_ -]$/i;function vl(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(ul.is.firefox===!0?On.test(n.data)===!1:Fn.test(n.data)===!0||Bn.test(n.data)===!0||zn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var oo=Ce({name:"QInput",inheritAttrs:!1,props:{...Je,...En,...dl,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ht,"paste","change"],setup(e,{emit:t,attrs:n}){const o={};let r=NaN,a,u,h,f;const m=j(null),c=fl(e),{innerValue:q,hasMask:A,moveCursorForPaste:i,updateMaskValue:E,onMaskedKeydown:K}=Rn(e,t,N,m),R=_n(e,!0),U=b(()=>Pe(q.value)),L=vl(C),H=gt(),I=b(()=>e.type==="textarea"||e.autogrow===!0),B=b(()=>I.value===!0||["text","search","url","tel","password"].includes(e.type)),s=b(()=>{const g={...H.splitAttrs.listeners.value,onInput:C,onPaste:V,onChange:Q,onBlur:J,onFocus:Se};return g.onCompositionstart=g.onCompositionupdate=g.onCompositionend=L,A.value===!0&&(g.onKeydown=K),e.autogrow===!0&&(g.onAnimationend=O),g}),S=b(()=>{const g={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:c.value,...H.splitAttrs.attributes.value,id:H.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return I.value===!1&&(g.type=e.type),e.autogrow===!0&&(g.rows=1),g});G(()=>e.type,()=>{m.value&&(m.value.value=e.modelValue)}),G(()=>e.modelValue,g=>{if(A.value===!0){if(u===!0&&(u=!1,String(g)===r))return;E(g)}else q.value!==g&&(q.value=g,e.type==="number"&&o.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete o.value));e.autogrow===!0&&ie(O)}),G(()=>e.autogrow,g=>{g===!0?ie(O):m.value!==null&&n.rows>0&&(m.value.style.height="auto")}),G(()=>e.dense,()=>{e.autogrow===!0&&ie(O)});function p(){Ye(()=>{const g=document.activeElement;m.value!==null&&m.value!==g&&(g===null||g.id!==H.targetUid.value)&&m.value.focus({preventScroll:!0})})}function M(){m.value!==null&&m.value.select()}function V(g){if(A.value===!0&&e.reverseFillMask!==!0){const d=g.target;i(d,d.selectionStart,d.selectionEnd)}t("paste",g)}function C(g){if(!g||!g.target)return;if(e.type==="file"){t("update:modelValue",g.target.files);return}const d=g.target.value;if(g.target.qComposing===!0){o.value=d;return}if(A.value===!0)E(d,!1,g.inputType);else if(N(d),B.value===!0&&g.target===document.activeElement){const{selectionStart:y,selectionEnd:_}=g.target;y!==void 0&&_!==void 0&&ie(()=>{g.target===document.activeElement&&d.indexOf(g.target.value)===0&&g.target.setSelectionRange(y,_)})}e.autogrow===!0&&O()}function N(g,d){f=()=>{e.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,e.modelValue!==g&&r!==g&&(r=g,d===!0&&(u=!0),t("update:modelValue",g),ie(()=>{r===g&&(r=NaN)})),f=void 0},e.type==="number"&&(a=!0,o.value=g),e.debounce!==void 0?(clearTimeout(h),o.value=g,h=setTimeout(f,e.debounce)):f()}function O(){const g=m.value;if(g!==null){const d=g.parentNode.style,{overflow:y}=g.style;d.marginBottom=g.scrollHeight-1+"px",g.style.height="1px",g.style.overflow="hidden",g.style.height=g.scrollHeight+"px",g.style.overflow=y,d.marginBottom=""}}function Q(g){L(g),clearTimeout(h),f!==void 0&&f(),t("change",g.target.value)}function J(g){g!==void 0&&Se(g),clearTimeout(h),f!==void 0&&f(),a=!1,u=!1,delete o.value,e.type!=="file"&&setTimeout(()=>{m.value!==null&&(m.value.value=q.value!==void 0?q.value:"")})}function te(){return o.hasOwnProperty("value")===!0?o.value:q.value!==void 0?q.value:""}ge(()=>{J()}),Ge(()=>{e.autogrow===!0&&O()}),Object.assign(H,{innerValue:q,fieldClass:b(()=>`q-${I.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:b(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:m,emitValue:N,hasValue:U,floatingLabel:b(()=>U.value===!0||Pe(e.displayValue)),getControl:()=>w(I.value===!0?"textarea":"input",{ref:m,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...S.value,...s.value,...e.type!=="file"?{value:te()}:R.value}),getShadowControl:()=>w("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(I.value===!0?"":" text-no-wrap")},[w("span",{class:"invisible"},te()),w("span",e.shadowText)])});const v=St(H),z=de();return Object.assign(z.proxy,{focus:p,select:M,getNativeElement:()=>m.value}),v}});let Qe=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Qe=e.scrollLeft>=0,e.remove()}const me=1e3,Tn=["start","center","end","start-force","center-force","end-force"],ml=Array.prototype.filter,In=window.getComputedStyle(document.body).overflowAnchor===void 0?Il:function(e,t){e!==null&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;const n=e.children||[];ml.call(n,r=>r.dataset&&r.dataset.qVsAnchor!==void 0).forEach(r=>{delete r.dataset.qVsAnchor});const o=n[t];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function Be(e,t){return e+t}function ut(e,t,n,o,r,a,u,h){const f=e===window?document.scrollingElement||document.documentElement:e,m=r===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-u-h,scrollMaxSize:0,offsetStart:-u,offsetEnd:-h};if(r===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=f.scrollLeft,c.scrollViewSize+=f.clientWidth),c.scrollMaxSize=f.scrollWidth,a===!0&&(c.scrollStart=(Qe===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=f.scrollTop,c.scrollViewSize+=f.clientHeight),c.scrollMaxSize=f.scrollHeight),n!==null)for(let q=n.previousElementSibling;q!==null;q=q.previousElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=q[m]);if(o!==null)for(let q=o.nextElementSibling;q!==null;q=q.nextElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=q[m]);if(t!==e){const q=f.getBoundingClientRect(),A=t.getBoundingClientRect();r===!0?(c.offsetStart+=A.left-q.left,c.offsetEnd-=A.width):(c.offsetStart+=A.top-q.top,c.offsetEnd-=A.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function jt(e,t,n,o){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(t=(Qe===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(o===!0&&(t=(Qe===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Ie(e,t,n,o){if(n>=o)return 0;const r=t.length,a=Math.floor(n/me),u=Math.floor((o-1)/me)+1;let h=e.slice(a,u).reduce(Be,0);return n%me!==0&&(h-=t.slice(a*me,n).reduce(Be,0)),o%me!==0&&o!==r&&(h-=t.slice(o,u*me).reduce(Be,0)),h}const hl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ao=Object.keys(hl),Pn={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...hl};function $n({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const r=de(),{props:a,emit:u,proxy:h}=r,{$q:f}=h;let m,c,q,A=[],i;const E=j(0),K=j(0),R=j({}),U=j(null),L=j(null),H=j(null),I=j({from:0,to:0}),B=b(()=>a.tableColspan!==void 0?a.tableColspan:100);o===void 0&&(o=b(()=>a.virtualScrollItemSize));const s=b(()=>o.value+";"+a.virtualScrollHorizontal),S=b(()=>s.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);G(S,()=>{te()}),G(s,p);function p(){J(c,!0)}function M(y){J(y===void 0?c:y)}function V(y,_){const F=t();if(F==null||F.nodeType===8)return;const Z=ut(F,n(),U.value,L.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);q!==Z.scrollViewSize&&te(Z.scrollViewSize),N(F,Z,Math.min(e.value-1,Math.max(0,parseInt(y,10)||0)),0,Tn.indexOf(_)>-1?_:c>-1&&y>c?"end":"start")}function C(){const y=t();if(y==null||y.nodeType===8)return;const _=ut(y,n(),U.value,L.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),F=e.value-1,Z=_.scrollMaxSize-_.offsetStart-_.offsetEnd-K.value;if(m===_.scrollStart)return;if(_.scrollMaxSize<=0){N(y,_,0,0);return}q!==_.scrollViewSize&&te(_.scrollViewSize),O(I.value.from);const ne=Math.floor(_.scrollMaxSize-Math.max(_.scrollViewSize,_.offsetEnd)-Math.min(i[F],_.scrollViewSize/2));if(ne>0&&Math.ceil(_.scrollStart)>=ne){N(y,_,F,_.scrollMaxSize-_.offsetEnd-A.reduce(Be,0));return}let W=0,$=_.scrollStart-_.offsetStart,ee=$;if($<=Z&&$+_.scrollViewSize>=E.value)$-=E.value,W=I.value.from,ee=$;else for(let D=0;$>=A[D]&&W<F;D++)$-=A[D],W+=me;for(;$>0&&W<F;)$-=i[W],$>-_.scrollViewSize?(W++,ee=$):ee=i[W]+$;N(y,_,W,ee)}function N(y,_,F,Z,ne){const W=typeof ne=="string"&&ne.indexOf("-force")>-1,$=W===!0?ne.replace("-force",""):ne,ee=$!==void 0?$:"start";let D=Math.max(0,F-R.value[ee]),T=D+R.value.total;T>e.value&&(T=e.value,D=Math.max(0,T-R.value.total)),m=_.scrollStart;const fe=D!==I.value.from||T!==I.value.to;if(fe===!1&&$===void 0){z(F);return}const{activeElement:ye}=document,se=H.value;fe===!0&&se!==null&&se!==ye&&se.contains(ye)===!0&&(se.addEventListener("focusout",Q),setTimeout(()=>{se!==null&&se.removeEventListener("focusout",Q)})),In(se,F-D);const $e=$!==void 0?i.slice(D,F).reduce(Be,0):0;if(fe===!0){const ke=T>=I.value.from&&D<=I.value.to?I.value.to:T;I.value={from:D,to:ke},E.value=Ie(A,i,0,D),K.value=Ie(A,i,T,e.value),requestAnimationFrame(()=>{I.value.to!==T&&m===_.scrollStart&&(I.value={from:I.value.from,to:T},K.value=Ie(A,i,T,e.value))})}requestAnimationFrame(()=>{if(m!==_.scrollStart)return;fe===!0&&O(D);const ke=i.slice(D,F).reduce(Be,0),pe=ke+_.offsetStart+E.value,He=pe+i[F];let ze=pe+Z;if($!==void 0){const ce=ke-$e,ae=_.scrollStart+ce;ze=W!==!0&&ae<pe&&He<ae+_.scrollViewSize?ae:$==="end"?He-_.scrollViewSize:pe-($==="start"?0:Math.round((_.scrollViewSize-i[F])/2))}m=ze,jt(y,ze,a.virtualScrollHorizontal,f.lang.rtl),z(F)})}function O(y){const _=H.value;if(_){const F=ml.call(_.children,D=>D.classList&&D.classList.contains("q-virtual-scroll--skip")===!1),Z=F.length,ne=a.virtualScrollHorizontal===!0?D=>D.getBoundingClientRect().width:D=>D.offsetHeight;let W=y,$,ee;for(let D=0;D<Z;){for($=ne(F[D]),D++;D<Z&&F[D].classList.contains("q-virtual-scroll--with-prev")===!0;)$+=ne(F[D]),D++;ee=$-i[W],ee!==0&&(i[W]+=ee,A[Math.floor(W/me)]+=ee),W++}}}function Q(){H.value!==null&&H.value!==void 0&&H.value.focus()}function J(y,_){const F=1*o.value;(_===!0||Array.isArray(i)===!1)&&(i=[]);const Z=i.length;i.length=e.value;for(let W=e.value-1;W>=Z;W--)i[W]=F;const ne=Math.floor((e.value-1)/me);A=[];for(let W=0;W<=ne;W++){let $=0;const ee=Math.min((W+1)*me,e.value);for(let D=W*me;D<ee;D++)$+=i[D];A.push($)}c=-1,m=void 0,E.value=Ie(A,i,0,I.value.from),K.value=Ie(A,i,I.value.to,e.value),y>=0?(O(I.value.from),ie(()=>{V(y)})):g()}function te(y){if(y===void 0&&typeof window!="undefined"){const $=t();$!=null&&$.nodeType!==8&&(y=ut($,n(),U.value,L.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}q=y;const _=parseFloat(a.virtualScrollSliceRatioBefore)||0,F=parseFloat(a.virtualScrollSliceRatioAfter)||0,Z=1+_+F,ne=y===void 0||y<=0?1:Math.ceil(y/o.value),W=Math.max(1,ne,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/Z));R.value={total:Math.ceil(W*Z),start:Math.ceil(W*_),center:Math.ceil(W*(.5+_)),end:Math.ceil(W*(1+_)),view:ne}}function v(y,_){const F=a.virtualScrollHorizontal===!0?"width":"height",Z={["--q-virtual-scroll-item-"+F]:o.value+"px"};return[y==="tbody"?w(y,{class:"q-virtual-scroll__padding",key:"before",ref:U},[w("tr",[w("td",{style:{[F]:`${E.value}px`,...Z},colspan:B.value})])]):w(y,{class:"q-virtual-scroll__padding",key:"before",ref:U,style:{[F]:`${E.value}px`,...Z}}),w(y,{class:"q-virtual-scroll__content",key:"content",ref:H,tabindex:-1},_.flat()),y==="tbody"?w(y,{class:"q-virtual-scroll__padding",key:"after",ref:L},[w("tr",[w("td",{style:{[F]:`${K.value}px`,...Z},colspan:B.value})])]):w(y,{class:"q-virtual-scroll__padding",key:"after",ref:L,style:{[F]:`${K.value}px`,...Z}})]}function z(y){c!==y&&(a.onVirtualScroll!==void 0&&u("virtual-scroll",{index:y,from:I.value.from,to:I.value.to-1,direction:y<c?"decrease":"increase",ref:h}),c=y)}te();const g=ll(C,f.platform.is.ios===!0?120:35);Pl(()=>{te()});let d=!1;return dt(()=>{d=!0}),ft(()=>{if(d!==!0)return;const y=t();m!==void 0&&y!==void 0&&y!==null&&y.nodeType!==8?jt(y,m,a.virtualScrollHorizontal,f.lang.rtl):V(c)}),ge(()=>{g.cancel()}),Object.assign(h,{scrollTo:V,reset:p,refresh:M}),{virtualScrollSliceRange:I,virtualScrollSliceSizeComputed:R,setVirtualScrollSize:te,onVirtualScrollEvt:g,localResetVirtualScroll:J,padVirtualScroll:v,scrollTo:V,reset:p,refresh:M}}var Hn=Ce({name:"QField",inheritAttrs:!1,props:Je,emits:ht,setup(){return St(gt())}});const Ln={xs:8,sm:10,md:14,lg:20,xl:24};var Dn=Ce({name:"QChip",props:{...vt,...Jt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=de(),r=mt(e,o),a=el(e,Ln),u=b(()=>e.selected===!0||e.icon!==void 0),h=b(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),f=b(()=>e.iconRemove||o.iconSet.chip.remove),m=b(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=b(()=>{const R=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(R?` text-${R} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(m.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),q=b(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function A(R){R.keyCode===13&&i(R)}function i(R){e.disable||(n("update:selected",!e.selected),n("click",R))}function E(R){(R.keyCode===void 0||R.keyCode===13)&&(ve(R),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function K(){const R=[];m.value===!0&&R.push(w("div",{class:"q-focus-helper"})),u.value===!0&&R.push(w(Fe,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const U=e.label!==void 0?[w("div",{class:"ellipsis"},[e.label])]:void 0;return R.push(w("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},tl(t.default,U))),e.iconRight&&R.push(w(Fe,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&R.push(w(Fe,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:f.value,...q.value,onClick:E,onKeyup:E})),R}return()=>{if(e.modelValue===!1)return;const R={class:c.value,style:a.value};return m.value===!0&&Object.assign(R,q.value,{onClick:i,onKeyup:A}),$l("div",R,K(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Hl,e.ripple]])}}});const Nn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function jn({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:r,emit:a}=de(),u=j(null);let h;function f(i){return u.value===null?!1:i===void 0||i.touches===void 0||i.touches.length<=1}const m={};n===void 0&&(Object.assign(m,{hide(i){r.hide(i)},toggle(i){r.toggle(i),i.qAnchorHandled=!0},toggleKey(i){il(i,13)===!0&&m.toggle(i)},contextClick(i){r.hide(i),he(i),ie(()=>{r.show(i),i.qAnchorHandled=!0})},prevent:he,mobileTouch(i){if(m.mobileCleanup(i),f(i)!==!0)return;r.hide(i),u.value.classList.add("non-selectable");const E=i.target;Ft(m,"anchor",[[E,"touchmove","mobileCleanup","passive"],[E,"touchend","mobileCleanup","passive"],[E,"touchcancel","mobileCleanup","passive"],[u.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{r.show(i),i.qAnchorHandled=!0},300)},mobileCleanup(i){u.value.classList.remove("non-selectable"),clearTimeout(h),e.value===!0&&i!==void 0&&vn()}}),n=function(i=o.contextMenu){if(o.noParentEvent===!0||u.value===null)return;let E;i===!0?r.$q.platform.is.mobile===!0?E=[[u.value,"touchstart","mobileTouch","passive"]]:E=[[u.value,"mousedown","hide","passive"],[u.value,"contextmenu","contextClick","notPassive"]]:E=[[u.value,"click","toggle","passive"],[u.value,"keyup","toggleKey","passive"]],Ft(m,"anchor",E)});function c(){Ll(m,"anchor")}function q(i){for(u.value=i;u.value.classList.contains("q-anchor--skip");)u.value=u.value.parentNode;n()}function A(){if(o.target===!1||o.target===""||r.$el.parentNode===null)u.value=null;else if(o.target===!0)q(r.$el.parentNode);else{let i=o.target;if(typeof o.target=="string")try{i=document.querySelector(o.target)}catch{i=void 0}i!=null?(u.value=i.$el||i,n()):(u.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return G(()=>o.contextMenu,i=>{u.value!==null&&(c(),n(i))}),G(()=>o.target,()=>{u.value!==null&&c(),A()}),G(()=>o.noParentEvent,i=>{u.value!==null&&(i===!0?c():n())}),Ge(()=>{A(),t!==!0&&o.modelValue===!0&&u.value===null&&a("update:modelValue",!1)}),ge(()=>{clearTimeout(h),c()}),{anchorEl:u,canShow:f,anchorEvents:m}}function Wn(e,t){const n=j(null);let o;function r(h,f){const m=`${f!==void 0?"add":"remove"}EventListener`,c=f!==void 0?f:o;h!==window&&h[m]("scroll",c,it.passive),window[m]("scroll",c,it.passive),o=f}function a(){n.value!==null&&(r(n.value),n.value=null)}const u=G(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return ge(u),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:r}}let gl;const{notPassiveCapture:Ze}=it,we=[];function Xe(e){clearTimeout(gl);const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Bt.length-1;for(;n>=0;){const o=Bt[n].$;if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=we.length-1;o>=0;o--){const r=we[o];if((r.anchorEl.value===null||r.anchorEl.value.contains(t)===!1)&&(t===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(t)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function Kn(e){we.push(e),we.length===1&&(document.addEventListener("mousedown",Xe,Ze),document.addEventListener("touchstart",Xe,Ze))}function Wt(e){const t=we.findIndex(n=>n===e);t>-1&&(we.splice(t,1),we.length===0&&(clearTimeout(gl),document.removeEventListener("mousedown",Xe,Ze),document.removeEventListener("touchstart",Xe,Ze)))}let Kt,Ut;function Qt(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Un(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ct={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ct[`${e}#ltr`]=e,ct[`${e}#rtl`]=e});function Zt(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:ct[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Qn(e,t){let{top:n,left:o,right:r,bottom:a,width:u,height:h}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],a+=t[1],r+=t[0],u+=t[0],h+=t[1]),{top:n,left:o,right:r,bottom:a,width:u,height:h,middle:o+(r-o)/2,center:n+(a-n)/2}}function Zn(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Xn(e){if(ul.is.ios===!0&&window.visualViewport!==void 0){const h=document.body.style,{offsetLeft:f,offsetTop:m}=window.visualViewport;f!==Kt&&(h.setProperty("--q-pe-left",f+"px"),Kt=f),m!==Ut&&(h.setProperty("--q-pe-top",m+"px"),Ut=m)}let t;const{scrollLeft:n,scrollTop:o}=e.el;if(e.absoluteOffset===void 0)t=Qn(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:h,left:f}=e.anchorEl.getBoundingClientRect(),m=h+e.absoluteOffset.top,c=f+e.absoluteOffset.left;t={top:m,left:c,width:1,height:1,right:c+1,center:m,middle:c,bottom:m+1}}let r={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(r.minWidth=t.width+"px",e.cover===!0&&(r.minHeight=t.height+"px")),Object.assign(e.el.style,r);const a=Zn(e.el),u={top:t[e.anchorOrigin.vertical]-a[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-a[e.selfOrigin.horizontal]};Yn(u,t,a,e.anchorOrigin,e.selfOrigin),r={top:u.top+"px",left:u.left+"px"},u.maxHeight!==void 0&&(r.maxHeight=u.maxHeight+"px",t.height>u.maxHeight&&(r.minHeight=r.maxHeight)),u.maxWidth!==void 0&&(r.maxWidth=u.maxWidth+"px",t.width>u.maxWidth&&(r.minWidth=r.maxWidth)),Object.assign(e.el.style,r),e.el.scrollTop!==o&&(e.el.scrollTop=o),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function Yn(e,t,n,o,r){const a=n.bottom,u=n.right,h=Dl(),f=window.innerHeight-h,m=document.body.clientWidth;if(e.top<0||e.top+a>f)if(r.vertical==="center")e.top=t[o.vertical]>f/2?Math.max(0,f-a):0,e.maxHeight=Math.min(a,f);else if(t[o.vertical]>f/2){const c=Math.min(f,o.vertical==="center"?t.center:o.vertical===r.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,c),e.top=Math.max(0,c-a)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===r.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,f-e.top);if(e.left<0||e.left+u>m)if(e.maxWidth=Math.min(u,m),r.horizontal==="middle")e.left=t[o.horizontal]>m/2?Math.max(0,m-u):0;else if(t[o.horizontal]>m/2){const c=Math.min(m,o.horizontal==="middle"?t.middle:o.horizontal===r.horizontal?t.right:t.left);e.maxWidth=Math.min(u,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===r.horizontal?t.left:t.right),e.maxWidth=Math.min(u,m-e.left)}var Gn=Ce({name:"QMenu",inheritAttrs:!1,props:{...Nn,...Nl,...vt,...jl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Qt},self:{type:String,validator:Qt},offset:{type:Array,validator:Un},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Wl,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:o}){let r=null,a,u,h;const f=de(),{proxy:m}=f,{$q:c}=m,q=j(null),A=j(!1),i=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),E=mt(e,c),{registerTick:K,removeTick:R}=Kl(),{registerTimeout:U,removeTimeout:L}=Ul(),{transition:H,transitionStyle:I}=Ql(e,A),{localScrollTarget:B,changeScrollEvent:s,unconfigureScrollTarget:S}=Wn(e,Z),{anchorEl:p,canShow:M}=jn({showing:A}),{hide:V}=Zl({showing:A,canShow:M,handleShow:y,handleHide:_,hideOnRouteChange:i,processOnMount:!0}),{showPortal:C,hidePortal:N,renderPortal:O}=Xl(f,q,D),Q={anchorEl:p,innerRef:q,onClickOutside(T){if(e.persistent!==!0&&A.value===!0)return V(T),(T.type==="touchstart"||T.target.classList.contains("q-dialog__backdrop"))&&ve(T),!0}},J=b(()=>Zt(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),te=b(()=>e.cover===!0?J.value:Zt(e.self||"top start",c.lang.rtl)),v=b(()=>(e.square===!0?" q-menu--square":"")+(E.value===!0?" q-menu--dark q-dark":"")),z=b(()=>e.autoClose===!0?{onClick:ne}:{}),g=b(()=>A.value===!0&&e.persistent!==!0);G(g,T=>{T===!0?(tn($),Kn(Q)):(zt($),Wt(Q))});function d(){Ye(()=>{let T=q.value;T&&T.contains(document.activeElement)!==!0&&(T=T.querySelector("[autofocus], [data-autofocus]")||T,T.focus({preventScroll:!0}))})}function y(T){if(R(),L(),r=e.noRefocus===!1?document.activeElement:null,Yl(W),C(),Z(),a=void 0,T!==void 0&&(e.touchPosition||e.contextMenu)){const fe=Gl(T);if(fe.left!==void 0){const{top:ye,left:se}=p.value.getBoundingClientRect();a={left:fe.left-se,top:fe.top-ye}}}u===void 0&&(u=G(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,ee)),e.noFocus!==!0&&document.activeElement.blur(),K(()=>{ee(),e.noFocus!==!0&&d()}),U(()=>{c.platform.is.ios===!0&&(h=e.autoClose,q.value.click()),ee(),C(!0),n("show",T)},e.transitionDuration)}function _(T){R(),L(),N(),F(!0),r!==null&&(T===void 0||T.qClickOutside!==!0)&&(r.focus(),r=null),U(()=>{N(!0),n("hide",T)},e.transitionDuration)}function F(T){a=void 0,u!==void 0&&(u(),u=void 0),(T===!0||A.value===!0)&&(Jl(W),S(),Wt(Q),zt($)),T!==!0&&(r=null)}function Z(){(p.value!==null||e.scrollTarget!==void 0)&&(B.value=en(p.value,e.scrollTarget),s(B.value,ee))}function ne(T){h!==!0?(ln(m,T),n("click",T)):h=!1}function W(T){g.value===!0&&e.noFocus!==!0&&nn(q.value,T.target)!==!0&&d()}function $(T){n("escape-key"),V(T)}function ee(){const T=q.value;T===null||p.value===null||Xn({el:T,offset:e.offset,anchorEl:p.value,anchorOrigin:J.value,selfOrigin:te.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function D(){return w(ol,{name:H.value,appear:!0},()=>A.value===!0?w("div",{...o,ref:q,tabindex:-1,class:["q-menu q-position-engine scroll"+v.value,o.class],style:[o.style,I.value],...z.value},_e(t.default)):null)}return ge(F),Object.assign(m,{focus:d,updatePosition:ee}),O}});const Xt=e=>["add","add-unique","toggle"].includes(e),Jn=".*+?^${}()|[]\\",eo=Object.keys(Je);var uo=Ce({name:"QSelect",inheritAttrs:!1,props:{...Pn,...dl,...Je,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Xt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...ht,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:t,emit:n}){const{proxy:o}=de(),{$q:r}=o,a=j(!1),u=j(!1),h=j(-1),f=j(""),m=j(!1),c=j(!1);let q,A,i,E,K,R,U,L,H;const I=j(null),B=j(null),s=j(null),S=j(null),p=j(null),M=fl(e),V=vl(Mt),C=b(()=>Array.isArray(e.options)?e.options.length:0),N=b(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:O,virtualScrollSliceSizeComputed:Q,localResetVirtualScroll:J,padVirtualScroll:te,onVirtualScrollEvt:v,scrollTo:z,setVirtualScrollSize:g}=$n({virtualScrollLength:C,getVirtualScrollTarget:xl,getVirtualScrollEl:Vt,virtualScrollItemSizeComputed:N}),d=gt(),y=b(()=>{const l=e.mapOptions===!0&&e.multiple!==!0,k=e.modelValue!==void 0&&(e.modelValue!==null||l===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const x=e.mapOptions===!0&&A!==void 0?A:[],P=k.map(Y=>bl(Y,x));return e.modelValue===null&&l===!0?P.filter(Y=>Y!==null):P}return k}),_=b(()=>{const l={};return eo.forEach(k=>{const x=e[k];x!==void 0&&(l[k]=x)}),l}),F=b(()=>e.optionsDark===null?d.isDark.value:e.optionsDark),Z=b(()=>Pe(y.value)),ne=b(()=>{let l="q-field__input q-placeholder col";return e.hideSelected===!0||y.value.length===0?[l,e.inputClass]:(l+=" q-field__input--padding",e.inputClass===void 0?l:[l,e.inputClass])}),W=b(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),$=b(()=>C.value===0),ee=b(()=>y.value.map(l=>ae.value(l)).join(", ")),D=b(()=>e.optionsHtml===!0?()=>!0:l=>l!=null&&l.html===!0),T=b(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||y.value.some(D.value))),fe=b(()=>d.focused.value===!0?e.tabindex:-1),ye=b(()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-owns":`${d.targetUid.value}_lb`,"aria-controls":`${d.targetUid.value}_lb`};return h.value>=0&&(l["aria-activedescendant"]=`${d.targetUid.value}_${h.value}`),l}),se=b(()=>{const l={id:`${d.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return h.value>=0&&(l["aria-activedescendant"]=`${d.targetUid.value}_${h.value}`),l}),$e=b(()=>y.value.map((l,k)=>({index:k,opt:l,html:D.value(l),selected:!0,removeAtIndex:yl,toggleOption:be,tabindex:fe.value}))),ke=b(()=>{if(C.value===0)return[];const{from:l,to:k}=O.value;return e.options.slice(l,k).map((x,P)=>{const Y=Ve.value(x)===!0,X=l+P,le={clickable:!0,active:!1,activeClass:ze.value,manualFocus:!0,focused:!1,disable:Y,tabindex:-1,dense:e.optionsDense,dark:F.value,role:"option",id:`${d.targetUid.value}_${X}`,onClick:()=>{be(x)}};return Y!==!0&&(lt(x)===!0&&(le.active=!0),h.value===X&&(le.focused=!0),le["aria-selected"]=le.active===!0?"true":"false",r.platform.is.desktop===!0&&(le.onMousemove=()=>{a.value===!0&&qe(X)})),{index:X,opt:x,html:D.value(x),label:ae.value(x),selected:le.active,focused:le.focused,toggleOption:be,setOptionIndex:qe,itemProps:le}})}),pe=b(()=>e.dropdownIcon!==void 0?e.dropdownIcon:r.iconSet.arrow.dropdown),He=b(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ze=b(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ce=b(()=>tt(e.optionValue,"value")),ae=b(()=>tt(e.optionLabel,"label")),Ve=b(()=>tt(e.optionDisable,"disable")),Le=b(()=>y.value.map(l=>ce.value(l))),Sl=b(()=>{const l={onInput:Mt,onChange:V,onKeydown:pt,onKeyup:Ct,onKeypress:kt,onFocus:xt,onClick(k){i===!0&&Se(k)}};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=V,l});G(y,l=>{A=l,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&d.innerLoading.value!==!0&&(u.value!==!0&&a.value!==!0||Z.value!==!0)&&(E!==!0&&Re(),(u.value===!0||a.value===!0)&&Me(""))},{immediate:!0}),G(()=>e.fillInput,Re),G(a,nt),G(C,Fl);function yt(l){return e.emitValue===!0?ce.value(l):l}function et(l){if(l>-1&&l<y.value.length)if(e.multiple===!0){const k=e.modelValue.slice();n("remove",{index:l,value:k.splice(l,1)[0]}),n("update:modelValue",k)}else n("update:modelValue",null)}function yl(l){et(l),d.focus()}function bt(l,k){const x=yt(l);if(e.multiple!==!0){e.fillInput===!0&&Oe(ae.value(l),!0,!0),n("update:modelValue",x);return}if(y.value.length===0){n("add",{index:0,value:x}),n("update:modelValue",e.multiple===!0?[x]:x);return}if(k===!0&&lt(l)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const P=e.modelValue.slice();n("add",{index:P.length,value:x}),P.push(x),n("update:modelValue",P)}function be(l,k){if(d.editable.value!==!0||l===void 0||Ve.value(l)===!0)return;const x=ce.value(l);if(e.multiple!==!0){k!==!0&&(Oe(e.fillInput===!0?ae.value(l):"",!0,!0),xe()),B.value!==null&&B.value.focus(),(y.value.length===0||Te(ce.value(y.value[0]),x)!==!0)&&n("update:modelValue",e.emitValue===!0?x:l);return}if((i!==!0||m.value===!0)&&d.focus(),xt(),y.value.length===0){const X=e.emitValue===!0?x:l;n("add",{index:0,value:X}),n("update:modelValue",e.multiple===!0?[X]:X);return}const P=e.modelValue.slice(),Y=Le.value.findIndex(X=>Te(X,x));if(Y>-1)n("remove",{index:Y,value:P.splice(Y,1)[0]});else{if(e.maxValues!==void 0&&P.length>=e.maxValues)return;const X=e.emitValue===!0?x:l;n("add",{index:P.length,value:X}),P.push(X)}n("update:modelValue",P)}function qe(l){if(r.platform.is.desktop!==!0)return;const k=l>-1&&l<C.value?l:-1;h.value!==k&&(h.value=k)}function De(l=1,k){if(a.value===!0){let x=h.value;do x=Ot(x+l,-1,C.value-1);while(x!==-1&&x!==h.value&&Ve.value(e.options[x])===!0);h.value!==x&&(qe(x),z(x),k!==!0&&e.useInput===!0&&e.fillInput===!0&&Ne(x>=0?ae.value(e.options[x]):R))}}function bl(l,k){const x=P=>Te(ce.value(P),l);return e.options.find(x)||k.find(x)||l}function tt(l,k){const x=l!==void 0?l:k;return typeof x=="function"?x:P=>P!==null&&typeof P=="object"&&x in P?P[x]:P}function lt(l){const k=ce.value(l);return Le.value.find(x=>Te(x,k))!==void 0}function xt(l){e.useInput===!0&&B.value!==null&&(l===void 0||B.value===l.target&&l.target.value===ee.value)&&B.value.select()}function wt(l){il(l,27)===!0&&a.value===!0&&(Se(l),xe(),Re()),n("keyup",l)}function Ct(l){const{value:k}=l.target;if(l.keyCode!==void 0){wt(l);return}if(l.target.value="",clearTimeout(q),Re(),typeof k=="string"&&k.length>0){const x=k.toLocaleLowerCase(),P=X=>{const le=e.options.find(re=>X.value(re).toLocaleLowerCase()===x);return le===void 0?!1:(y.value.indexOf(le)===-1?be(le):xe(),!0)},Y=X=>{P(ce)!==!0&&(P(ae)===!0||X===!0||Me(k,!0,()=>Y(!0)))};Y()}else d.clearValue(l)}function kt(l){n("keypress",l)}function pt(l){if(n("keydown",l),al(l)===!0)return;const k=f.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),x=l.shiftKey!==!0&&e.multiple!==!0&&(h.value>-1||k===!0);if(l.keyCode===27){he(l);return}if(l.keyCode===9&&x===!1){Ae();return}if(l.target===void 0||l.target.id!==d.targetUid.value)return;if(l.keyCode===40&&d.innerLoading.value!==!0&&a.value===!1){ve(l),Ee();return}if(l.keyCode===8&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?et(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(l.keyCode===35||l.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(ve(l),h.value=-1,De(l.keyCode===36?1:-1,e.multiple)),(l.keyCode===33||l.keyCode===34)&&Q.value!==void 0&&(ve(l),h.value=Math.max(-1,Math.min(C.value,h.value+(l.keyCode===33?-1:1)*Q.value.view)),De(l.keyCode===33?1:-1,e.multiple)),(l.keyCode===38||l.keyCode===40)&&(ve(l),De(l.keyCode===38?-1:1,e.multiple));const P=C.value;if((L===void 0||H<Date.now())&&(L=""),P>0&&e.useInput!==!0&&l.key!==void 0&&l.key.length===1&&l.altKey===l.ctrlKey&&(l.keyCode!==32||L.length>0)){a.value!==!0&&Ee(l);const Y=l.key.toLocaleLowerCase(),X=L.length===1&&L[0]===Y;H=Date.now()+1500,X===!1&&(ve(l),L+=Y);const le=new RegExp("^"+L.split("").map(ot=>Jn.indexOf(ot)>-1?"\\"+ot:ot).join(".*"),"i");let re=h.value;if(X===!0||re<0||le.test(ae.value(e.options[re]))!==!0)do re=Ot(re+1,-1,P-1);while(re!==h.value&&(Ve.value(e.options[re])===!0||le.test(ae.value(e.options[re]))!==!0));h.value!==re&&ie(()=>{qe(re),z(re),re>=0&&e.useInput===!0&&e.fillInput===!0&&Ne(ae.value(e.options[re]))});return}if(!(l.keyCode!==13&&(l.keyCode!==32||e.useInput===!0||L!=="")&&(l.keyCode!==9||x===!1))){if(l.keyCode!==9&&ve(l),h.value>-1&&h.value<P){be(e.options[h.value]);return}if(k===!0){const Y=(X,le)=>{if(le){if(Xt(le)!==!0)return}else le=e.newValueMode;if(X==null)return;Oe("",e.multiple!==!0,!0),(le==="toggle"?be:bt)(X,le==="add-unique"),e.multiple!==!0&&(B.value!==null&&B.value.focus(),xe())};if(e.onNewValue!==void 0?n("new-value",f.value,Y):Y(f.value),e.multiple!==!0)return}a.value===!0?Ae():d.innerLoading.value!==!0&&Ee()}}function Vt(){return i===!0?p.value:s.value!==null&&s.value.__qPortalInnerRef.value!==null?s.value.__qPortalInnerRef.value:void 0}function xl(){return Vt()}function wl(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?$e.value.map(l=>t["selected-item"](l)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?$e.value.map((l,k)=>w(Dn,{key:"option-"+k,removable:d.editable.value===!0&&Ve.value(l.opt)!==!0,dense:!0,textColor:e.color,tabindex:fe.value,onRemove(){l.removeAtIndex(k)}},()=>w("span",{class:"ellipsis",[l.html===!0?"innerHTML":"textContent"]:ae.value(l.opt)}))):[w("span",{[T.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:ee.value})]}function qt(){if($.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:f.value}):void 0;const l=t.option!==void 0?t.option:x=>w(rn,{key:x.index,...x.itemProps},()=>w(un,()=>w(mn,()=>w("span",{[x.html===!0?"innerHTML":"textContent"]:x.label}))));let k=te("div",ke.value.map(l));return t["before-options"]!==void 0&&(k=t["before-options"]().concat(k)),sn(t["after-options"],k)}function Cl(l,k){const x=k===!0?{...ye.value,...d.splitAttrs.attributes.value}:void 0,P={ref:k===!0?B:void 0,key:"i_t",class:ne.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...x,id:k===!0?d.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":l!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Sl.value};return l!==!0&&i===!0&&(Array.isArray(P.class)===!0?P.class=[...P.class,"no-pointer-events"]:P.class+=" no-pointer-events"),w("input",P)}function Mt(l){clearTimeout(q),!(l&&l.target&&l.target.qComposing===!0)&&(Ne(l.target.value||""),E=!0,R=f.value,d.focused.value!==!0&&(i!==!0||m.value===!0)&&d.focus(),e.onFilter!==void 0&&(q=setTimeout(()=>{Me(f.value)},e.inputDebounce)))}function Ne(l){f.value!==l&&(f.value=l,n("input-value",l))}function Oe(l,k,x){E=x!==!0,e.useInput===!0&&(Ne(l),(k===!0||x!==!0)&&(R=l),k!==!0&&Me(l))}function Me(l,k,x){if(e.onFilter===void 0||k!==!0&&d.focused.value!==!0)return;d.innerLoading.value===!0?n("filter-abort"):(d.innerLoading.value=!0,c.value=!0),l!==""&&e.multiple!==!0&&y.value.length>0&&E!==!0&&l===ae.value(y.value[0])&&(l="");const P=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);clearTimeout(K),K=P,n("filter",l,(Y,X)=>{(k===!0||d.focused.value===!0)&&K===P&&(clearTimeout(K),typeof Y=="function"&&Y(),c.value=!1,ie(()=>{d.innerLoading.value=!1,d.editable.value===!0&&(k===!0?a.value===!0&&xe():a.value===!0?nt(!0):a.value=!0),typeof X=="function"&&ie(()=>{X(o)}),typeof x=="function"&&ie(()=>{x(o)})}))},()=>{d.focused.value===!0&&K===P&&(clearTimeout(K),d.innerLoading.value=!1,c.value=!1),a.value===!0&&(a.value=!1)})}function kl(){return w(Gn,{ref:s,class:W.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&$.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:F.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:He.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...se.value,onScrollPassive:v,onBeforeShow:Et,onBeforeHide:pl,onShow:Vl},qt)}function pl(l){Rt(l),Ae()}function Vl(){g()}function ql(l){Se(l),B.value!==null&&B.value.focus(),m.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ml(l){Se(l),ie(()=>{m.value=!1})}function Al(){const l=[w(Hn,{class:`col-auto ${d.fieldClass.value}`,..._.value,for:d.targetUid.value,dark:F.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:f.value.length>0,...d.splitAttrs.listeners.value,onFocus:ql,onBlur:Ml},{...t,rawControl:()=>d.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&l.push(w("div",{ref:p,class:W.value+" scroll",style:e.popupContentStyle,...se.value,onClick:he,onScrollPassive:v},qt())),w(an,{ref:S,modelValue:u.value,position:e.useInput===!0?"top":void 0,transitionShow:U,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Et,onBeforeHide:El,onHide:Rl,onShow:_l},()=>w("div",{class:"q-select__dialog"+(F.value===!0?" q-select__dialog--dark q-dark":"")+(m.value===!0?" q-select__dialog--focused":"")},l))}function El(l){Rt(l),S.value!==null&&S.value.__updateRefocusTarget(d.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),d.focused.value=!1}function Rl(l){xe(),d.focused.value===!1&&n("blur",l),Re()}function _l(){const l=document.activeElement;(l===null||l.id!==d.targetUid.value)&&B.value!==null&&B.value!==l&&B.value.focus(),g()}function Ae(){u.value!==!0&&(h.value=-1,a.value===!0&&(a.value=!1),d.focused.value===!1&&(clearTimeout(K),K=void 0,d.innerLoading.value===!0&&(n("filter-abort"),d.innerLoading.value=!1,c.value=!1)))}function Ee(l){d.editable.value===!0&&(i===!0?(d.onControlFocusin(l),u.value=!0,ie(()=>{d.focus()})):d.focus(),e.onFilter!==void 0?Me(f.value):($.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function xe(){u.value=!1,Ae()}function Re(){e.useInput===!0&&Oe(e.multiple!==!0&&e.fillInput===!0&&y.value.length>0&&ae.value(y.value[0])||"",!0,!0)}function nt(l){let k=-1;if(l===!0){if(y.value.length>0){const x=ce.value(y.value[0]);k=e.options.findIndex(P=>Te(ce.value(P),x))}J(k)}qe(k)}function Fl(l,k){a.value===!0&&d.innerLoading.value===!1&&(J(-1,!0),ie(()=>{a.value===!0&&d.innerLoading.value===!1&&(l>k?J():nt(!0))}))}function At(){u.value===!1&&s.value!==null&&s.value.updatePosition()}function Et(l){l!==void 0&&Se(l),n("popup-show",l),d.hasPopupOpen=!0,d.onControlFocusin(l)}function Rt(l){l!==void 0&&Se(l),n("popup-hide",l),d.hasPopupOpen=!1,d.onControlFocusout(l)}function _t(){i=r.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||$.value===!1:!0),U=r.platform.is.ios===!0&&i===!0&&e.useInput===!0?"fade":e.transitionShow}return nl(_t),on(At),_t(),ge(()=>{clearTimeout(q)}),Object.assign(o,{showPopup:Ee,hidePopup:xe,removeAtIndex:et,add:bt,toggleOption:be,getOptionIndex:()=>h.value,setOptionIndex:qe,moveOptionSelection:De,filter:Me,updateMenuPosition:At,updateInputValue:Oe,isOptionSelected:lt,getEmittingOptionValue:yt,isOptionDisabled:(...l)=>Ve.value.apply(null,l)===!0,getOptionValue:(...l)=>ce.value.apply(null,l),getOptionLabel:(...l)=>ae.value.apply(null,l)}),Object.assign(d,{innerValue:y,fieldClass:b(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:I,targetRef:B,hasValue:Z,showPopup:Ee,floatingLabel:b(()=>e.hideSelected!==!0&&Z.value===!0||typeof f.value=="number"||f.value.length>0||Pe(e.displayValue)),getControlChild:()=>{if(d.editable.value!==!1&&(u.value===!0||$.value!==!0||t["no-option"]!==void 0))return i===!0?Al():kl();d.hasPopupOpen===!0&&(d.hasPopupOpen=!1)},controlEvents:{onFocusin(l){d.onControlFocusin(l)},onFocusout(l){d.onControlFocusout(l,()=>{Re(),Ae()})},onClick(l){if(he(l),i!==!0&&a.value===!0){Ae(),B.value!==null&&B.value.focus();return}Ee(l)}},getControl:l=>{const k=wl(),x=l===!0||u.value!==!0||i!==!0;if(e.useInput===!0)k.push(Cl(l,x));else if(d.editable.value===!0){const Y=x===!0?ye.value:void 0;k.push(w("input",{ref:x===!0?B:void 0,key:"d_t",class:"q-select__focus-target",id:x===!0?d.targetUid.value:void 0,readonly:!0,"data-autofocus":l!==!0&&e.autofocus===!0||void 0,...Y,onKeydown:pt,onKeyup:wt,onKeypress:kt})),x===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&k.push(w("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:Ct}))}if(M.value!==void 0&&e.disable!==!0&&Le.value.length>0){const Y=Le.value.map(X=>w("option",{value:X,selected:!0}));k.push(w("select",{class:"hidden",name:M.value,multiple:e.multiple},Y))}const P=e.useInput===!0||x!==!0?void 0:d.splitAttrs.attributes.value;return w("div",{class:"q-field__native row items-center",...P},k)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[w(Fe,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:pe.value})]:null}),St(d)}}),io=Ce({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:t,emit:n}){const o=de(),r=j(null);let a=0;const u=[];function h(i){const E=[],K=typeof i=="boolean"?i:e.noErrorFocus!==!0,R=++a,U=(L,H)=>{n("validation-"+(L===!0?"success":"error"),H)};for(let L=0;L<u.length;L++){const H=u[L],I=H.validate();if(typeof I.then=="function")E.push(I.then(B=>({valid:B,comp:H}),B=>({valid:!1,comp:H,err:B})));else if(I!==!0){if(e.greedy===!1)return U(!1,H),K===!0&&typeof H.focus=="function"&&H.focus(),Promise.resolve(!1);E.push({valid:!1,comp:H})}}return E.length===0?(U(!0),Promise.resolve(!0)):Promise.all(E).then(L=>{const H=L.filter(S=>S.valid!==!0);if(H.length===0)return R===a&&U(!0),!0;const{valid:I,comp:B,err:s}=H[0];return R===a&&(s!==void 0&&console.error(s),U(!1,B),K===!0&&I!==!0&&typeof B.focus=="function"&&B.focus()),!1})}function f(){a++,u.forEach(i=>{typeof i.resetValidation=="function"&&i.resetValidation()})}function m(i){i!==void 0&&ve(i);const E=a+1;h().then(K=>{E===a&&K===!0&&(e.onSubmit!==void 0?n("submit",i):i!==void 0&&i.target!==void 0&&typeof i.target.submit=="function"&&i.target.submit())})}function c(i){i!==void 0&&ve(i),n("reset"),ie(()=>{f(),e.autofocus===!0&&e.noResetFocus!==!0&&q()})}function q(){Ye(()=>{if(r.value===null)return;const i=r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),E=>E.tabIndex>-1);i!=null&&i.focus({preventScroll:!0})})}cn(Gt,{bindComponent(i){u.push(i)},unbindComponent(i){const E=u.indexOf(i);E>-1&&u.splice(E,1)}});let A=!1;return dt(()=>{A=!0}),ft(()=>{A===!0&&e.autofocus===!0&&q()}),Ge(()=>{e.autofocus===!0&&q()}),Object.assign(o.proxy,{validate:h,resetValidation:f,submit:m,reset:c,focus:q,getValidationComponents:()=>u}),()=>w("form",{class:"q-form",ref:r,onSubmit:m,onReset:c},_e(t.default))}});function ro(){return Yt(dn)}export{uo as Q,$n as a,dl as b,no as c,ao as d,oo as e,io as f,ro as g,Pn as u};
